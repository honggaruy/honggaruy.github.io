<!DOCTYPE html>
<html>
    <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>2022년 10주차 기록 - 홍가뤼의 개인위키</title>

    <meta name="description" content="03/07 (월) ~ 03/13 (일)">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="https://honggaruy.github.io/blog/2022/03/07/week-10th/">
    <link rel="alternate" type="application/rss+xml" title="홍가뤼의 개인위키" href="https://honggaruy.github.io/feed.xml">

    <meta property="og:type" content="website">
    <meta property="og:title" content="2022년 10주차 기록">
    <meta property="og:description" content="03/07 (월) ~ 03/13 (일)">
    <meta property="og:image" content="https://honggaruy.github.io/resources/icon/apple-touch-icon.png">
    <meta property="og:url" content="https://honggaruy.github.io/blog/2022/03/07/week-10th/">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@">
    <meta name="twitter:url" content="https://honggaruy.github.io/blog/2022/03/07/week-10th/">
    <meta name="twitter:title" content="2022년 10주차 기록">
    <meta name="twitter:description" content="03/07 (월) ~ 03/13 (일)">

    <link rel="apple-touch-icon" sizes="180x180" href="/resources/icon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/resources/icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/resources/icon/favicon-16x16.png">
    <link rel="manifest" href="/resources/icon/site.webmanifest">




</head>
<body>
<header class="header">
    <div>
        <a class="site-title" href="/">홍가뤼의 개인위키</a>
    </div>
    <div>
        <a class="site-title-right" href="/about/">me</a>
    </div>
    <div>
        <a class="site-title-right" href="/wiki/index/#random" onclick="if(typeof random === 'function')random()">random</a>
    </div>
    <div>
        <a class="site-title-right" href="/blog/">blog</a>
    </div>
    <div>
        <a class="site-title-right" href="/wiki/index/">wiki</a>
    </div>
</header>

    
        <div class="page-content">
            <div class="search">
    <form role="search" method="get" action="/search/">
         <input name="searchString" class="searchInput" placeholder=" 검색하세요" type="text">
         <input type="submit" class="searchButton" value="Search">
    </form>
</div>
            <div class="post">
                <div class="post">
    <header class="post-header">

        <div class="PageNavigation">
          
            <a class="prev" href="/blog/2022/02/28/week-09th/">« 2022년 09주차 기록</a>
          
          
            <a class="next" href="/blog/2022/03/14/week-11th/">2022년 11주차 기록 »</a>
          
        </div>

        <h1 class="post-title blog-only-title">2022년 10주차 기록</h1>
        <p class="created-date">
            2022.03.07
        </p>


        <div class="post-tag">
    c++
</div>

        <h2>03/07 (월) ~ 03/13 (일)</h2>
    </header>


    <div class="toc">
    </div>

    <article class="post-content">
        <ul id="markdown-toc">
  <li>
<a href="#build-and-debug-c-with-wsl-2-distruibutions-and-visual-studio-2022---%EB%B2%88%EC%97%AD" id="markdown-toc-build-and-debug-c-with-wsl-2-distruibutions-and-visual-studio-2022---번역">Build and Debug C++ with WSL 2 Distruibutions and Visual Studio 2022 - 번역</a>    <ul>
      <li><a href="#wsl-2-toolset%EC%9D%80-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%8F%99%EC%9E%91%ED%95%98%EB%8A%94%EA%B0%80" id="markdown-toc-wsl-2-toolset은-어떻게-동작하는가">WSL 2 toolset은 어떻게 동작하는가?</a></li>
      <li><a href="#wsl-2-%EB%B0%B0%ED%8F%AC%ED%8C%90-%EC%97%90%EC%84%9C-cross-platform-cmake-%EA%B0%9C%EB%B0%9C" id="markdown-toc-wsl-2-배포판-에서-cross-platform-cmake-개발">WSL 2 배포판 에서 Cross-platform CMake 개발</a></li>
    </ul>
  </li>
  <li><a href="#python%EC%9D%98-map-function%EA%B3%BC-%EC%9C%A0%EC%82%AC%ED%95%9C-%EA%B8%B0%EB%8A%A5%EC%9D%84-c-%EB%A1%9C-%EA%B5%AC%ED%98%84%ED%95%A0-%EC%88%98-%EC%9E%88%EC%9D%84%EA%B9%8C" id="markdown-toc-python의-map-function과-유사한-기능을-c-로-구현할-수-있을까">Python의 map function과 유사한 기능을 C++ 로 구현할 수 있을까?</a></li>
  <li><a href="#partial-sort-in-python-" id="markdown-toc-partial-sort-in-python-">Partial Sort in Python ?</a></li>
  <li><a href="#github-%ED%8E%98%EC%9D%B4%EC%A7%80%EB%A1%9C-%EB%B9%84%EA%B3%B5%EA%B0%9C-%ED%8F%AC%EC%8A%A4%ED%8C%85-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0" id="markdown-toc-github-페이지로-비공개-포스팅-작성하기">github 페이지로 비공개 포스팅 작성하기</a></li>
  <li><a href="#c-%EA%B8%B0%EC%B4%88-%EB%B0%B0%EC%9A%B0%EA%B8%B0" id="markdown-toc-c-기초-배우기">C++ 기초 배우기</a></li>
  <li>
<a href="#figma-%EA%B0%95%EC%A2%8C-%EB%94%B0%EB%9D%BC%ED%95%98%EA%B8%B0" id="markdown-toc-figma-강좌-따라하기">Figma 강좌 따라하기</a>    <ul>
      <li><a href="#figma%EB%A1%9C-%EC%95%84%EC%9D%B4%EC%BD%98-%EB%A7%8C%EB%93%A4%EA%B8%B0-%EA%B0%95%EC%A2%8C" id="markdown-toc-figma로-아이콘-만들기-강좌">figma로 아이콘 만들기 강좌</a></li>
    </ul>
  </li>
  <li>
<a href="#%ED%81%AC%EB%A1%AC-%ED%99%95%EC%9E%A5-%EB%A7%8C%EB%93%A4%EC%96%B4-%EB%B3%B4%EA%B8%B0" id="markdown-toc-크롬-확장-만들어-보기">크롬 확장 만들어 보기</a>    <ul>
      <li><a href="#%EC%B0%B8%EC%A1%B0-%EB%A7%81%ED%81%AC" id="markdown-toc-참조-링크">참조 링크</a></li>
      <li><a href="#%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD" id="markdown-toc-개발-환경">개발 환경</a></li>
      <li>
<a href="#getting-started" id="markdown-toc-getting-started">Getting started</a>        <ul>
          <li><a href="#create-the-manifest" id="markdown-toc-create-the-manifest">Create the manifest</a></li>
          <li><a href="#load-an-unpacked-extension" id="markdown-toc-load-an-unpacked-extension">Load an unpacked extension</a></li>
        </ul>
      </li>
      <li>
<a href="#add-functionality" id="markdown-toc-add-functionality">Add functionality</a>        <ul>
          <li><a href="#register-the-background-script-in-the-manifest" id="markdown-toc-register-the-background-script-in-the-manifest">Register the background script in the manifest</a></li>
          <li><a href="#create-the-background-script" id="markdown-toc-create-the-background-script">Create the background script</a></li>
          <li><a href="#add-the-storage-permission" id="markdown-toc-add-the-storage-permission">Add the storage permission</a></li>
          <li><a href="#inspect-the-background-script" id="markdown-toc-inspect-the-background-script">Inspect the background script</a></li>
        </ul>
      </li>
      <li><a href="#introduce-a-user-interface" id="markdown-toc-introduce-a-user-interface">Introduce a user interface</a></li>
    </ul>
  </li>
</ul>

<h1 id="build-and-debug-c-with-wsl-2-distruibutions-and-visual-studio-2022---번역">
<a href="https://devblogs.microsoft.com/cppblog/build-and-debug-c-with-wsl-2-distributions-and-visual-studio-2022/">Build and Debug C++ with WSL 2 Distruibutions and Visual Studio 2022</a> - 번역</h1>

<ul>
  <li>2021-07-14에 등록된 article
    <ul>
      <li>저자는 Erika Sweet , Microsoft C++ Team - Cross Platform Tools 개발 담당</li>
    </ul>
  </li>
  <li>VS2022는 C++ 개발에 대해  native WSL 2 toolset을 소개했다</li>
  <li>이 toolset은 VS2022 ver 17.0 Preview 2 부터 사용가능하다</li>
  <li>WSL는 개선된 Linux file system 성능, GUI 지원, full system call 호환성을 지원한다</li>
  <li>VS WSL 2 toolset을 사용하면 ..
    <ul>
      <li>SSH 연결을 추가하지 않고</li>
      <li>WSL 2 배포판에서 C++ 코드를 빌드하고 디버그할 수 있다</li>
    </ul>
  </li>
  <li>당신은 이미 VS2019 ver 16.1에서 소개된 <a href="https://devblogs.microsoft.com/cppblog/c-with-visual-studio-2019-and-windows-subsystem-for-linux-wsl/">native WSL 1 toolset</a>으로 ..
    <ul>
      <li>C++ 코드를 빌드하고 디버그할수 있긴하다</li>
    </ul>
  </li>
  <li>VS의 WSL 2 toolset은 CMake와 MSBuild 기반 Linux 프로젝트를 모두 지원한다</li>
  <li>하지만, 모든 C++ cross-platfor 개발에 대해 CMake가 우리의 추천인데 ..
    <ul>
      <li>이 방식으르 당신은 Windows와 WSL, remote system에서 같은 프로젝트로 빌드와 디버깅을 할 수 있기 때문이다</li>
    </ul>
  </li>
</ul>

<h2 id="wsl-2-toolset은-어떻게-동작하는가">WSL 2 toolset은 어떻게 동작하는가?</h2>

<ul>
  <li>VS의 C++ cross-platform 지원은 모든 소스 파일이 Windows file system에서 시작된다고 가정한다</li>
  <li>WSL 2 배포판에서 개발할 때, VS는 ..
    <ul>
      <li>Windows file system에서 WSL file system으로 파일을 복사하기 위해</li>
      <li>local rsync copy 를 실행할 것이다</li>
    </ul>
  </li>
  <li>위의 로컬 rsync 복사는 …
    <ul>
      <li>VS가 WSL 2 배포판이 사용됨을 감지하고 사용자의 간섭이 요구되지 않을 경우</li>
      <li>자동으로 발생한다</li>
    </ul>
  </li>
  <li>
<a href="https://docs.microsoft.com/en-us/windows/wsl/compare-versions">Comparing WSL 1 and WSL 2</a> 를 확인하여 WSL 1과 WSL 2의 차이점에 대해 더 배워라</li>
  <li>CMake 와 WSL 2 의 Step-by-Step 가이드와 MSBuild-기반 WSL 2 지원 개요에 대한 다음 섹션을 읽어보자</li>
</ul>

<h2 id="wsl-2-배포판-에서-cross-platform-cmake-개발">WSL 2 배포판 에서 Cross-platform CMake 개발</h2>

<ul>
  <li>WSL 2 toolset은 VS의 CMake Presets integration에 의해 지원된다</li>
  <li>CMake presets에 대해 더 배우려면..
    <ul>
      <li>
<a href="https://devblogs.microsoft.com/cppblog/cmake-presets-integration-in-visual-studio-and-visual-studio-code/">annoucement blog post</a> 와 <a href="https://docs.microsoft.com/en-us/cpp/build/cmake-presets-vs?view=msvc-160">documentation</a>
</li>
    </ul>
  </li>
  <li>WSL 2 배포판에서 CMake project를 빌드하고 디버그하기위해 아래 instructions를 따라와라</li>
</ul>

<ol>
  <li>
<a href="https://docs.microsoft.com/en-us/windows/wsl/install">Windows 10용 WSL 설치 가이드</a> 를 참조하여 WSL과 WSL 2 배포판을 설치하라</li>
  <li>필요한 빌드 툴들을 WSL 2 distor 에 설치한다
    <ul>
      <li>C++ compiler, gdb, CMake, 기본적인(underlying) 빌드 시스템 생성기, rsync, zip이 필요할 것이다</li>
      <li>아래 명령으로 설치할 수 있다
        <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td>
<td class="rouge-code"><pre> <span class="o">&gt;</span> <span class="nb">sudo </span>apt update
 <span class="o">&gt;</span> <span class="nb">sudo </span>apt <span class="nb">install </span>g++ gdb make ninja-build rsync zip
</pre></td>
</tr></tbody></table></code></pre></div>        </div>
      </li>
      <li>이 튜토리얼에서는 <code class="language-html highlighter-rouge">GCC</code>, <code class="language-html highlighter-rouge">Ninja</code>를 <code class="language-html highlighter-rouge">Ubuntu</code>위에서 사용할 것이다.</li>
    </ul>
  </li>
  <li>VS2022 ver 17.0 Preview 2 나 이후 버전에서 <code class="language-html highlighter-rouge">CMake 프로젝트</code>를 Open해라
    <ul>
      <li>VS는 프로젝트 루트에 CMakeLists.txt 파일이 있는 폴더를 CMake 프로젝트로 규정한다</li>
      <li>
    </li>
</ul>
  </li>
</ol>

<h1 id="python의-map-function과-유사한-기능을-c-로-구현할-수-있을까">Python의 map function과 유사한 기능을 C++ 로 구현할 수 있을까?</h1>

<ul>
  <li>참고할 SO 질문 : <a href="https://stackoverflow.com/questions/33379145/equivalent-of-python-map-function-using-lambda">Equivalent of python map function using lambda</a>
</li>
</ul>

<h1 id="partial-sort-in-python-">Partial Sort in Python ?</h1>

<ul>
  <li>관련 질문을 한 적이 있다
    <ul>
      <li><a href="https://stackoverflow.com/questions/52648935/implementing-shortest-job-first-scheduling-in-python">Implementing shortest job first scheduling in python</a></li>
    </ul>
  </li>
  <li>관련 기사를 찾았다
    <ul>
      <li><a href="https://mlforanalytics.com/2020/04/14/partition-partial-sort-in-numpy/">Partition() - Partial Sort In NumPy</a></li>
    </ul>
  </li>
  <li>질문에 대한 답변이 될지 검토해 보자 (여유가 있으면..)</li>
</ul>

<h1 id="github-페이지로-비공개-포스팅-작성하기">github 페이지로 비공개 포스팅 작성하기</h1>

<ul>
  <li><a href="https://soharu.github.io/posts/2019-09-18-Deploying-to-GitHub-Pages/">Github Pages로 블로그 배포하기, soharu.github.io</a></li>
  <li><a href="https://twpower.github.io/86-make-jekyll-blog-post-private">지킬블로그 올린 포스트 비공개로 하기, TWPower블로그</a></li>
  <li><a href="https://stackoverflow.com/questions/28744980/github-pages-for-private-repository">GitHub Pages for Private Repository, stackoverflow</a></li>
</ul>

<h1 id="c-기초-배우기">C++ 기초 배우기</h1>

<ul>
  <li>
<a href="https://www.learncpp.com/">Learn C++</a> : 무료 C++ 강의, 영어</li>
  <li>
<a href="https://modoocode.com/">모두의 코드</a> : 무료 C, C++ , 알고리즘 강의, 한글</li>
</ul>

<h1 id="figma-강좌-따라하기">Figma 강좌 따라하기</h1>

<ul>
  <li>#figma</li>
</ul>

<h2 id="figma로-아이콘-만들기-강좌">figma로 아이콘 만들기 강좌</h2>
<p><iframe id="media-4_WS782s96c" class="media" src="https://www.youtube.com/embed/4_WS782s96c" title="" width="100%" height="350" style="max-width: 600px;outline: none" allow="encrypted-media; picture-in-picture" frameborder="0" allowfullscreen></iframe></p>
<ul>
  <li>현재(2022-03-11)는 Material.io의 <a href="https://material.io/design/iconography/system-icons.html#design-principles">Icon design principles</a>의 링크가 영상과 다르니 참고할 것</li>
</ul>

<h1 id="크롬-확장-만들어-보기">크롬 확장 만들어 보기</h1>

<h2 id="참조-링크">참조 링크</h2>

<ul>
  <li><a href="https://youtu.be/3Xq_QfYdmMQ">I Built My First Google Chrome Extension!</a></li>
</ul>

<h2 id="개발-환경">개발 환경</h2>

<ul>
  <li>VS Code + <a href="https://marketplace.visualstudio.com/items?itemName=aaravb.chrome-extension-developer-tools">Chrome Extension Dev Tools</a>
</li>
  <li>Command Palette에서 <code class="language-html highlighter-rouge">Chrome Extension: Create New</code> 선택</li>
  <li>주요 기술 : HTML, CSS, JavaScript</li>
</ul>

<h2 id="getting-started">Getting started</h2>

<ul>
  <li>발췌 원본 : <a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/">Getting started, Chrome Developers</a>
</li>
  <li>현재 focusing 된 페이지의 백그라운드 컬러를 변경해보는 extension을 개발해 볼것임</li>
</ul>

<h3 id="create-the-manifest">Create the manifest</h3>

<ul>
  <li>repository 폴더 밑에 새폴더를 하나 만들고 <code class="language-html highlighter-rouge">code .</code>으로 VS Code 오픈</li>
  <li>
<code class="language-html highlighter-rouge">manifest.json</code> 파일 하나 만들고 다음 내용을 써넣는다
    <div class="language-json highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td>
<td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"manifest_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Getting Started Example"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h3 id="load-an-unpacked-extension">Load an unpacked extension</h3>

<ul>
  <li>
<code class="language-html highlighter-rouge">manifest.json</code> 파일을 가진 directory는 <code class="language-html highlighter-rouge">developer mode</code>에서 extension으로 간주되어 추가될 수 있다</li>
  <li>unpacked extension을 로딩하기 위해 아래 단계대로 실행하라
    <ol>
      <li>
<code class="language-html highlighter-rouge">chrome://extensions</code> 확장 페이지 열기
        <ul>
          <li>다른 방법 : 크롬에서  <code class="language-html highlighter-rouge">⁞</code> ▶ <code class="language-html highlighter-rouge">도구 더보기</code> ▶ <code class="language-html highlighter-rouge">확장 프로그램</code>
</li>
        </ul>
      </li>
      <li>확장 페이지에서 <code class="language-html highlighter-rouge">개발자 모드</code> ON</li>
      <li>
<code class="language-html highlighter-rouge">압축해제된 확장 프로그램을 로드합니다</code> 버튼 클릭 해서 방금 만든 새폴더 선택해주기
  <img src="https://wd.imgix.net/image/BhuKGJaIeLNPW9ehns59NfwqKxF2/vOu7iPbaapkALed96rzN.png?auto=format&w=741" alt="extension page">
</li>
      <li>
<img class="emoji" title=":tada:" alt=":tada:" raw="🎉" src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" style="vertical-align: middle; display: inline; max-width: 1em; visibility: hidden;" onload="this.style.visibility='visible'" onerror="this.replaceWith(this.getAttribute('raw'))"> ! 확장이 성공적으로 설치됨. 아이콘이 없으므로 generic icon이 생성됨</li>
    </ol>
  </li>
</ul>

<h2 id="add-functionality">Add functionality</h2>

<h3 id="register-the-background-script-in-the-manifest">Register the background script in the manifest</h3>

<ul>
  <li>다른 중요한 컴포넌트들과 마찬가지로, background scripts도 manifest에 등록되어야 한다</li>
  <li>manifest에 background script를 등록함으로써, extension이 어느 파일을 참조하고 어떻게 동작할지 알려준다
    <div class="language-json highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td>
<td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="err">...</span><span class="w">
  </span><span class="nl">"background"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"service_worker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"background.js"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>이제 Chrome은 extension이 service worker를 가지고 있음을 알게 된다</li>
  <li>extension을 reload하면 ..
    <ul>
      <li>chrome은 지정된 파일을 스캔하여 중요한 이벤트 리스너가 있는지 검색한다</li>
    </ul>
  </li>
</ul>

<h3 id="create-the-background-script">Create the background script</h3>

<ul>
  <li>이 extenstion은 설치되자마자 persistent 변수로 부터 정보가 필요하다</li>
  <li>background 스크립트에 <code class="language-html highlighter-rouge">runtime.onInstalled</code> 이벤트를 리스닝 하는 것부터 시작하라
    <ul>
      <li>
<code class="language-html highlighter-rouge">onInstalled</code> 리스너 내부에서, extension은 <code class="language-html highlighter-rouge">storage</code> API 를 이용하여 값을 하나 설정할 것이다</li>
      <li>이 작업으로 많은 extenstion 컴포넌트가 이 값에 접근해서 업데이트 할 수 있게 된다</li>
    </ul>
  </li>
  <li>extension 폴더내에 <code class="language-html highlighter-rouge">background.js</code>를 생성하고 아래 코드를 추가하라
    <div class="language-js highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td>
<td class="rouge-code"><pre><span class="c1">// background.js</span>
<span class="kd">let</span> <span class="nx">color</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">#3aa757</span><span class="dl">'</span><span class="p">;</span>
  
<span class="nx">chrome</span><span class="p">.</span><span class="nx">runtime</span><span class="p">.</span><span class="nx">onInstalled</span><span class="p">.</span><span class="nx">addListener</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">chrome</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">sync</span><span class="p">.</span><span class="kd">set</span><span class="p">({</span> <span class="nx">color</span> <span class="p">});</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Default background color set to %cgreen</span><span class="dl">'</span><span class="p">,</span> <span class="s2">`color: </span><span class="p">${</span><span class="nx">color</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="p">});</span>
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
    <h3 id="add-the-storage-permission">Add the storage permission</h3>
  </li>
  <li>
<em>storage</em> API를 비롯해서 대부분의 API들은 사용하려면 manifest 파일의 “permissions” 필드에 등록되어야 한다
    <div class="language-json highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="err">...</span><span class="w">
  </span><span class="nl">"permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"storage"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>(역자 추가) <a href="https://developer.chrome.com/docs/extensions/reference/storage/">chrome.storage API</a>
    <ul>
      <li>유저 데이타를 저장, 회수, 변경 추척하는데 사용하는 API</li>
      <li>이 API는 특별한 storage 요구 사항을 충족시키도록 최적화되어 있다</li>
      <li>localStorage API 와 같은 storage 기능을 제공하지만 아래와 같은 주요 차이점이 있다
        <ul>
          <li>유저 데이타는 자동으로 Chrome Sync와 (<code class="language-html highlighter-rouge">storage.sync</code>를 이용하여) 동기화될 수 있다</li>
          <li>extension의 content script는 background 페이지 없이도 유저 데이타에 직접 접근할 수 있다</li>
          <li>심지어 split incognito behavior(분할 익명 동작) 중에도 유저의 extension 설정이 유지될수 있다
            <ul>
              <li>(역자 주) incognito 모드는 크롬의 시크릿 창을 의미함 (로그인 하지 않은 상태)
                <ul>
                  <li>동작을 원래 일반 모드와 공유할 것인지 분리할 것인지 extension 별로 결정해야 함</li>
                </ul>
              </li>
            </ul>
          </li>
          <li>bulk read 와 write 동작과는 비동기적이므로, 블락이 걸리며 순차적인 <code class="language-html highlighter-rouge">localStorage API</code>보다는 빠르다</li>
          <li>유저 데이타가 객체로 저장될 수 있다. ( <code class="language-html highlighter-rouge">localStoarge API</code>는 문자열로 저장된다)</li>
          <li>extension 관리자가 설정한 Enterprise 정책 읽기가 가능하다 ( <code class="language-html highlighter-rouge">storage.managed</code>를 schema와 함께 사용해서)</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="inspect-the-background-script">Inspect the background script</h3>

<ul>
  <li>다시 extension 관리 페이지로 되돌아가서 <em>Reload</em> 링크를 클릭하라 ( 아래 그림 맨 아래 동글뱅이 화살표)</li>
  <li>새로운 필드인 <em>Inspect views</em>가 파란 링크, <em>service worker</em> 사용할 수 있게된다
<img src="https://wd.imgix.net/image/BhuKGJaIeLNPW9ehns59NfwqKxF2/dx9EpIKK949olhe8qraK.png?auto=format&w=741" alt="Inspet views">
</li>
  <li>이 링크를 클릭하면 console.log 창이 뜨면서 “Default background color set to green” 이 표기된다</li>
</ul>

<h2 id="introduce-a-user-interface">Introduce a user interface</h2>

<ul>
  <li>extension은 다양한 형태의 user interface 를 가질 수 있다
    <ul>
      <li>이번에는 popup을 사용할 것이다</li>
    </ul>
  </li>
  <li>
<code class="language-html highlighter-rouge">popup.html</code> 파일을 만들어서 extension 디렉토리에 추가하라</li>
  <li>이 extension은 background color 를 변경하는데 버튼을 하나 사용한다
    <div class="language-html highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td>
<td class="rouge-code"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"button.css"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"changeColor"</span><span class="nt">&gt;&lt;/button&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>


    </article>
    <script>
    ;(function() {
        var tags = document.querySelectorAll('.post-tag');
        if(tags == null || tags.length < 1) {
            return;
        }

        for (var i = 0; i < tags.length; i++) {
            var item = tags[i];
            var tagList = item.innerHTML.trim();

            if(/^\s*$/.test(tagList)) {
                continue;
            }
            tagList = tagList.split(/\s+/)
                .map(function(tag) {
                    return `<a href="/tag/#${tag}">#${tag}</a>`;
                })
                .join(' ');
            tags[i].innerHTML = tagList;
        }
        return;
    })();
    ;(function() {
        var post = document.querySelector('article.post-content');

        if(post == null) {
            return;
        }

        (function iterate_node(node) {

            if (/^(?:p|ul|h\d|table)$/i.test(node.tagName)) {

                node.innerHTML = link(node.innerHTML);

            } else { // Node.ELEMENT_NODE
                for (var i = 0; i < node.childNodes.length; i++) {
                    iterate_node(node.childNodes[i]);
                }
            }
        })(post);

        function link(content) {
            content = content.replace(/\\\[\[(.+?)\]\]/g, '\\[\\[$1\\]\\]');
            content = content.replace(/\[\[(.+?)\]\]\{(.+?)\}/g, '<a href="../$1">$2</a>');
            content = content.replace(/\[\[(.+?)\]\]/g, '<a href="../$1">$1</a>');
            content = content.replace(/\\\[\\\[(.+?)\\\]\\\]/g, '[[$1]]');
            return content;
        }

    })();
</script>

    
    <div class="post-comments">
    
    
        <script src="https://utteranc.es/client.js" repo="honggaruy/honggaruy.github.io" issue-term="pathname" label="Comment" theme="github-light" crossorigin="anonymous" async>
        </script>
    
    </div>



</div>

            </div>
        </div>
        <footer class="footer">
    <div>

    </div>
</footer>
    
</body>
</html>
