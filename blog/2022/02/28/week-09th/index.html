<!DOCTYPE html>
<html>
    <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>2022년 09주차 기록 - 홍가뤼의 개인위키</title>

    <meta name="description" content="02/28 (월) ~ 03/06 (일)">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="https://honggaruy.github.io/blog/2022/02/28/week-09th/">
    <link rel="alternate" type="application/rss+xml" title="홍가뤼의 개인위키" href="https://honggaruy.github.io/feed.xml">

    <meta property="og:type" content="website">
    <meta property="og:title" content="2022년 09주차 기록">
    <meta property="og:description" content="02/28 (월) ~ 03/06 (일)">
    <meta property="og:image" content="https://honggaruy.github.io/resources/icon/apple-touch-icon.png">
    <meta property="og:url" content="https://honggaruy.github.io/blog/2022/02/28/week-09th/">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@">
    <meta name="twitter:url" content="https://honggaruy.github.io/blog/2022/02/28/week-09th/">
    <meta name="twitter:title" content="2022년 09주차 기록">
    <meta name="twitter:description" content="02/28 (월) ~ 03/06 (일)">

    <link rel="apple-touch-icon" sizes="180x180" href="/resources/icon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/resources/icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/resources/icon/favicon-16x16.png">
    <link rel="manifest" href="/resources/icon/site.webmanifest">




</head>
<body>
<header class="header">
    <div>
        <a class="site-title" href="/">홍가뤼의 개인위키</a>
    </div>
    <div>
        <a class="site-title-right" href="/about/">me</a>
    </div>
    <div>
        <a class="site-title-right" href="/wiki/index/#random" onclick="if(typeof random === 'function')random()">random</a>
    </div>
    <div>
        <a class="site-title-right" href="/blog/">blog</a>
    </div>
    <div>
        <a class="site-title-right" href="/wiki/index/">wiki</a>
    </div>
</header>

    
        <div class="page-content">
            <div class="search">
    <form role="search" method="get" action="/search/">
         <input name="searchString" class="searchInput" placeholder=" 검색하세요" type="text">
         <input type="submit" class="searchButton" value="Search">
    </form>
</div>
            <div class="post">
                <div class="post">
    <header class="post-header">

        <div class="PageNavigation">
          
            <a class="prev" href="/blog/2022/02/21/week-08th/">« 2022년 08주차 기록</a>
          
          
            <a class="next" href="/blog/2022/03/07/week-10th/">2022년 10주차 기록 »</a>
          
        </div>

        <h1 class="post-title blog-only-title">2022년 09주차 기록</h1>
        <p class="created-date">
            2022.02.28
        </p>


        <div class="post-tag">
    rust
</div>

        <h2>02/28 (월) ~ 03/06 (일)</h2>
    </header>


    <div class="toc">
    </div>

    <article class="post-content">
        <ul id="markdown-toc">
  <li>
<a href="#rust-%EA%B3%B5%EB%B6%80" id="markdown-toc-rust-공부">Rust 공부</a>    <ul>
      <li>
<a href="#formatted-print-%EC%84%B9%EC%85%98" id="markdown-toc-formatted-print-섹션">Formatted print 섹션</a>        <ul>
          <li><a href="#debug" id="markdown-toc-debug">Debug</a></li>
          <li>
<a href="#display" id="markdown-toc-display">Display</a>            <ul>
              <li><a href="#display-%EC%88%99%EC%A0%9C-activity" id="markdown-toc-display-숙제-activity">Display 숙제 (Activity)</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h1 id="rust-공부">Rust 공부</h1>

<ul>
  <li>2022-03-02 현재 <a href="/wiki/rust-beginning/#learn-rust">Learn Rust</a> 진행중</li>
  <li>종종 까먹는데 이름다음에  <code class="language-html highlighter-rouge">!</code> 가 붙으면 macro라는 뜻이다</li>
</ul>

<h2 id="formatted-print-섹션">Formatted print 섹션</h2>
<ul>
  <li>traits ? : <code class="language-html highlighter-rouge">특성</code> 으로 번역됨
    <ul>
      <li>관련 문서 : <a href="https://doc.rust-lang.org/std/fmt/#formatting-traits">Formatting traits</a>
</li>
      <li>text 의 display를 관리하는 method</li>
      <li>print 문에서 문자열 내에서 <code class="language-html highlighter-rouge">{:b}</code> 형태로 표현되는 것은 <code class="language-html highlighter-rouge">marker</code> 이고</li>
      <li>
<code class="language-html highlighter-rouge">{:b}</code>의 display는 <code class="language-html highlighter-rouge">fmt::Binary</code> trait 에서 관리하게된다</li>
    </ul>
  </li>
  <li>기본적으로 중요한 두가지 traits는 아래와 같다
    <ul>
      <li>
<code class="language-html highlighter-rouge">fmt::Debug</code>: <code class="language-html highlighter-rouge">{:?}</code> marker를 사용하며, 디버깅 목적으로 text를 format한다</li>
      <li>
<code class="language-html highlighter-rouge">fmt::Display</code>: <code class="language-html highlighter-rouge">{}</code> marker를 사용하며, 사용자 친화적인 방식으로 text를 format한다</li>
    </ul>
  </li>
</ul>

<h3 id="debug">Debug</h3>

<ul>
  <li>관련 문서 : <a href="https://doc.rust-lang.org/stable/rust-by-example/hello/print/print_debug.html">Debug</a>
</li>
  <li>
<code class="language-html highlighter-rouge">std::fmt</code>의 formatting <code class="language-html highlighter-rouge">traits</code>를 사용하려는 모든 type들은 프린트가능해지려면 구현이 필요하다</li>
  <li>자동적인 implementation은 <code class="language-html highlighter-rouge">std</code> library에 있는 type들에 대해서만 제공된다</li>
  <li>모든 다른 type들은 수동적으로 구현되어야 한다</li>
  <li>
<code class="language-html highlighter-rouge">fmt::Debug</code> trait는 이것을 매우 직관적으로 만든다</li>
  <li>모든 types는 <code class="language-html highlighter-rouge">fmt::Debug</code>의 implementation 은 파생(drive, 즉 automatically create) 할 수있다
    <ul>
      <li>반면에 <code class="language-html highlighter-rouge">fmt::Display</code>의 경우는 수동적으로 구현되어야 한다</li>
    </ul>
  </li>
  <li>
<code class="language-html highlighter-rouge">fmt::Debug</code>는 모든 것을 printable하게 만들수는 있지만 어떻게 보여줄지에 대한 조정은 할 수 없다</li>
</ul>

<h3 id="display">Display</h3>

<ul>
  <li>관련 문서 : <a href="https://doc.rust-lang.org/stable/rust-by-example/hello/print/print_display.html">Display</a>
</li>
  <li>
<code class="language-html highlighter-rouge">fmt::Debug</code>는 컴팩트하고 깔끔하게 보이지 않기에, 출력모양을 조정하는 것이 좋다</li>
  <li>이것은 <code class="language-html highlighter-rouge">fmt::Display</code>를 수동적으로 구현함으로써 가능하다</li>
  <li>구현하면 아래처럼 된다
    <div class="language-rust highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td>
<td class="rouge-code"><pre><span class="c1">// 'use'를 통해서, 'fmt' 모듈을 import 해서 'fmt' 모듈 사용이 가능해진다</span>
<span class="k">use</span> <span class="nn">std</span><span class="p">::</span><span class="n">fmt</span><span class="p">;</span>
  
<span class="c1">// 'fmt::Display'가 구현될 structure를 정의한다. </span>
<span class="c1">// 이건 'Structure'로 이름붙은 tuple 구조체로 'i32'를 포함한다</span>
<span class="k">struct</span> <span class="nf">Structure</span><span class="p">(</span><span class="nb">i32</span><span class="p">);</span>
  
<span class="c1">// '{}' marker를 사용하기 위해, 위 type에 대해 'fmt::Display' trait 가 직접 구현되어야 한다</span>
<span class="k">impl</span> <span class="nn">fmt</span><span class="p">::</span><span class="n">Display</span> <span class="k">for</span> <span class="n">Structure</span> <span class="p">{</span>
  <span class="c1">// 이 trait는 정확한 함수 signature 로 정의되는 'fmt' method가 필요하다</span>
  <span class="k">fn</span> <span class="nf">fmt</span><span class="p">(</span><span class="o">&amp;</span><span class="k">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span> <span class="o">&amp;</span><span class="k">mut</span> <span class="nn">fmt</span><span class="p">::</span><span class="n">Formatter</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="nn">fmt</span><span class="p">::</span><span class="nb">Result</span> <span class="p">{</span>
    <span class="c1">// 제공받은 출력 스트림 'f'에 첫번째 element를 정확히 작성한다</span>
    <span class="c1">// operation의 성공이나 실패를 표시하는 'fmt::Result'를 반환한다</span>
    <span class="c1">// 'write!'가 'println!'과 매우 유사한 문법을 사용하고 있음을 주목하라</span>
    <span class="nd">write!</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="k">self</span><span class="na">.0</span><span class="p">);</span>
<span class="p">}</span>
  
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
<code class="language-html highlighter-rouge">fmt::Display</code>는 <code class="language-html highlighter-rouge">fmt::Debug</code>보다 명확하겠지만, <code class="language-html highlighter-rouge">std</code> library에 문제를 제공한다
    <ul>
      <li>모호한 type들은 어떻게 표시되는가?</li>
    </ul>
  </li>
  <li>예를 들면, <code class="language-html highlighter-rouge">std</code> library가 모든 <code class="language-html highlighter-rouge">Vec<span class="nt">&lt;T&gt;</span></code>에 대해 single style을 구현했다면, 어떤 style을 가져야 하나?</li>
  <li>아래 두가지중 하나가 될까?
    <ul>
      <li>
<code class="language-html highlighter-rouge">Vec<span class="nt">&lt;path&gt;</span></code>: <code class="language-html highlighter-rouge">/:/etc:/home/username:/bin</code> (split on <code class="language-html highlighter-rouge">:</code>)</li>
      <li>
<code class="language-html highlighter-rouge">Vec<span class="nt">&lt;number&gt;</span></code>: <code class="language-html highlighter-rouge">1,2,3</code> (split on <code class="language-html highlighter-rouge">,</code>)</li>
    </ul>
  </li>
  <li>아니다. 모든 type에 이상적인 style은 없고 <code class="language-html highlighter-rouge">std</code> library는 하나를 지시한다고 가정하지 않는다</li>
  <li>
<code class="language-html highlighter-rouge">fmt::Display</code>는 <code class="language-html highlighter-rouge">Vec<span class="nt">&lt;T&gt;</span></code>나 다른 일반적인 container에 대해 구현되지 않았다.</li>
  <li>이런 일반적인 case들에 대해서는 <code class="language-html highlighter-rouge">fmt::Debug</code>가 사용되어야 한다</li>
  <li>그렇지만 이건 문제점이 아니다.
    <ul>
      <li>일반적이지 않은 새로운 <em>container</em> type에대해 <code class="language-html highlighter-rouge">fmt::Display</code>가 구현될 수 있기 때문이다</li>
      <li>
        <p>(역자주) 변수를 <em>container</em>라는 용어로 부르고 있다. 색다르네..</p>

        <div class="language-rust highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
</pre></td>
<td class="rouge-code"><pre><span class="k">use</span> <span class="nn">std</span><span class="p">::</span><span class="n">fmt</span><span class="p">;</span> <span class="c1">// Import 'fmt'</span>

<span class="c1">// 두개의 숫자를 갖는 구조체이다. </span>
<span class="c1">// 결과물이 'Display'와 대조되도록 'Debug'에서 파생시킨다</span>
<span class="nd">#[derive(Debug)]</span>
<span class="k">struct</span> <span class="nf">MinMax</span><span class="p">(</span><span class="nb">i64</span><span class="p">,</span> <span class="nb">i64</span><span class="p">);</span>

<span class="c1">// 'MinMax'에 대한 'Display'를 구현한다</span>
<span class="k">impl</span> <span class="nn">fmt</span><span class="p">::</span><span class="n">Display</span> <span class="k">for</span> <span class="n">MinMax</span> <span class="p">{</span>
  <span class="k">fn</span> <span class="nf">fmt</span><span class="p">(</span><span class="o">&amp;</span><span class="k">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span> <span class="o">&amp;</span><span class="k">mut</span> <span class="nn">fmt</span><span class="p">::</span><span class="n">Formatter</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="nn">fmt</span><span class="p">::</span><span class="nb">Result</span> <span class="p">{</span>
    <span class="c1">// 각각의 위치기반 데이타 포인트를 참조하도록 'self.숫자' 형식을 사용한다</span>
    <span class="nd">wirte!</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">"({}, {})"</span><span class="p">,</span> <span class="k">self</span><span class="na">.0</span><span class="p">,</span> <span class="k">self</span><span class="na">.1</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 비교를 위해 필드들에 이름을 부여할수 있는 구조체를 정의한다</span>
<span class="nd">#[derive(Debug)]</span>
<span class="n">sturct</span> <span class="n">Point2D</span> <span class="p">{</span>
  <span class="n">x</span><span class="p">:</span> <span class="nb">f64</span><span class="p">;</span>
  <span class="n">y</span><span class="p">:</span> <span class="nb">f64</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// 비슷하게 'Point2D'를 위한 'Display'를 구현한다</span>
<span class="k">impl</span> <span class="nn">fmt</span><span class="p">::</span><span class="n">Display</span> <span class="k">for</span> <span class="n">Point2D</span> <span class="p">{</span>
  <span class="k">fn</span> <span class="nf">fmt</span><span class="p">(</span><span class="o">&amp;</span><span class="k">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span> <span class="o">&amp;</span><span class="k">mut</span> <span class="nn">fmt</span><span class="p">::</span><span class="n">Formatter</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="nn">fmt</span><span class="p">::</span><span class="nb">Result</span> <span class="p">{</span>
    <span class="c1">// 'x'와 'y'만 표시되도록 지정한다 </span>
    <span class="nd">wirte!</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">"x: {}, y: {}"</span><span class="p">,</span> <span class="k">self</span><span class="py">.x</span><span class="p">,</span> <span class="k">self</span><span class="py">.y</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">let</span> <span class="n">minmax</span> <span class="o">=</span> <span class="nf">MinMax</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">14</span><span class="p">);</span>
      
  <span class="nd">println!</span><span class="p">(</span><span class="s">"Compare structures:"</span><span class="p">);</span>
  <span class="nd">println!</span><span class="p">(</span><span class="s">"Display: {}"</span><span class="p">,</span> <span class="n">minmax</span><span class="p">);</span>
  <span class="nd">println!</span><span class="p">(</span><span class="s">"Debug: {:?}"</span><span class="p">,</span> <span class="n">minmax</span><span class="p">);</span>
      
  <span class="k">let</span> <span class="n">big_range</span> <span class="o">=</span> <span class="nf">MinMax</span><span class="p">(</span><span class="o">-</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>
  <span class="k">let</span> <span class="n">small_range</span> <span class="o">=</span> <span class="nf">MinMax</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
      
  <span class="nd">println!</span><span class="p">(</span><span class="s">"The big range is {big} and the small is {small}"</span><span class="p">,</span>
           <span class="n">small</span> <span class="o">=</span> <span class="n">small_range</span><span class="p">,</span>
           <span class="n">bing</span> <span class="o">=</span> <span class="n">big_range</span><span class="p">);</span>
               
  <span class="k">let</span> <span class="n">point</span> <span class="o">=</span> <span class="n">Point2D</span> <span class="p">{</span> <span class="n">x</span><span class="p">:</span> <span class="mf">3.3</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="mf">7.2</span> <span class="p">};</span>
      
  <span class="nd">println!</span><span class="p">(</span><span class="s">"Compare points:"</span><span class="p">);</span>
  <span class="nd">println!</span><span class="p">(</span><span class="s">"Display: {}"</span><span class="p">,</span> <span class="n">point</span><span class="p">);</span>
  <span class="nd">println!</span><span class="p">(</span><span class="s">"Debug: {:?}"</span><span class="p">,</span> <span class="n">point</span><span class="p">);</span>
     
  <span class="c1">// 에러가 발생한다. 'Debug' 와 'Display'가 모두 구현되었으나, </span>
  <span class="c1">// '{:b}'의 사용은 'fmt::Binary'가 구현을 요구한다. 아래 줄은 동작하지 않을것이다</span>
  <span class="c1">// println!("What does Point2D look like in binary: {:b}?", point);</span>
      
<span class="p">}</span>
</pre></td>
</tr></tbody></table></code></pre></div>        </div>
      </li>
      <li>위와 같이, <code class="language-html highlighter-rouge">fmt::Display</code>가 구현되었지만 <code class="language-html highlighter-rouge">fmt::Binary</code>는 구현되지 않았기에 사용할 수 없다.</li>
      <li>
<code class="language-html highlighter-rouge">std::fmt</code>는 이런 <code class="language-html highlighter-rouge">traits</code>를 많이 가지고 있고 각자의 구현을 요구한다.</li>
      <li>
<a href="https://doc.rust-lang.org/std/fmt/"><code class="language-html highlighter-rouge">std::fmt</code></a>에 더 자세한 내용이 있다</li>
    </ul>
  </li>
</ul>

<h4 id="display-숙제-activity">Display 숙제 (Activity)</h4>

<ul>
  <li>
</li>
</ul>

    </article>
    <script>
    ;(function() {
        var tags = document.querySelectorAll('.post-tag');
        if(tags == null || tags.length < 1) {
            return;
        }

        for (var i = 0; i < tags.length; i++) {
            var item = tags[i];
            var tagList = item.innerHTML.trim();

            if(/^\s*$/.test(tagList)) {
                continue;
            }
            tagList = tagList.split(/\s+/)
                .map(function(tag) {
                    return `<a href="/tag/#${tag}">#${tag}</a>`;
                })
                .join(' ');
            tags[i].innerHTML = tagList;
        }
        return;
    })();
    ;(function() {
        var post = document.querySelector('article.post-content');

        if(post == null) {
            return;
        }

        (function iterate_node(node) {

            if (/^(?:p|ul|h\d|table)$/i.test(node.tagName)) {

                node.innerHTML = link(node.innerHTML);

            } else { // Node.ELEMENT_NODE
                for (var i = 0; i < node.childNodes.length; i++) {
                    iterate_node(node.childNodes[i]);
                }
            }
        })(post);

        function link(content) {
            content = content.replace(/\\\[\[(.+?)\]\]/g, '\\[\\[$1\\]\\]');
            content = content.replace(/\[\[(.+?)\]\]\{(.+?)\}/g, '<a href="../$1">$2</a>');
            content = content.replace(/\[\[(.+?)\]\]/g, '<a href="../$1">$1</a>');
            content = content.replace(/\\\[\\\[(.+?)\\\]\\\]/g, '[[$1]]');
            return content;
        }

    })();
</script>

    
    <div class="post-comments">
    
    
        <script src="https://utteranc.es/client.js" repo="honggaruy/honggaruy.github.io" issue-term="pathname" label="Comment" theme="github-light" crossorigin="anonymous" async>
        </script>
    
    </div>



</div>

            </div>
        </div>
        <footer class="footer">
    <div>

    </div>
</footer>
    
</body>
</html>
