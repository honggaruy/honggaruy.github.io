<!DOCTYPE html>
<html>
    <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>2021년 35주차 기록 - 홍가뤼의 개인위키</title>

    <meta name="description" content="08/30 (월) ~ 09/05 (일)">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="https://honggaruy.github.io/blog/2021/08/30/week-35th/">
    <link rel="alternate" type="application/rss+xml" title="홍가뤼의 개인위키" href="https://honggaruy.github.io/feed.xml">

    <meta property="og:type" content="website">
    <meta property="og:title" content="2021년 35주차 기록">
    <meta property="og:description" content="08/30 (월) ~ 09/05 (일)">
    <meta property="og:image" content="https://honggaruy.github.io/resources/icon/apple-touch-icon.png">
    <meta property="og:url" content="https://honggaruy.github.io/blog/2021/08/30/week-35th/">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@">
    <meta name="twitter:url" content="https://honggaruy.github.io/blog/2021/08/30/week-35th/">
    <meta name="twitter:title" content="2021년 35주차 기록">
    <meta name="twitter:description" content="08/30 (월) ~ 09/05 (일)">

    <link rel="apple-touch-icon" sizes="180x180" href="/resources/icon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/resources/icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/resources/icon/favicon-16x16.png">
    <link rel="manifest" href="/resources/icon/site.webmanifest">




</head>
<body>
<header class="header">
    <div>
        <a class="site-title" href="/">홍가뤼의 개인위키</a>
    </div>
    <div>
        <a class="site-title-right" href="/about/">me</a>
    </div>
    <div>
        <a class="site-title-right" href="/wiki/index/#random" onclick="if(typeof random === 'function')random()">random</a>
    </div>
    <div>
        <a class="site-title-right" href="/blog/">blog</a>
    </div>
    <div>
        <a class="site-title-right" href="/wiki/index/">wiki</a>
    </div>
</header>

    
        <div class="page-content">
            <div class="search">
    <form role="search" method="get" action="/search/">
         <input name="searchString" class="searchInput" placeholder=" 검색하세요" type="text">
         <input type="submit" class="searchButton" value="Search">
    </form>
</div>
            <div class="post">
                <div class="post">
    <header class="post-header">

        <div class="PageNavigation">
          
            <a class="prev" href="/blog/2021/08/23/week-34th/">« 2021년 34주차 기록</a>
          
          
            <a class="next" href="/blog/2021/09/06/week-36th/">2021년 36주차 기록 »</a>
          
        </div>

        <h1 class="post-title blog-only-title">2021년 35주차 기록</h1>
        <p class="created-date">
            2021.08.30
        </p>


        <div class="post-tag">
    unit-testing 악보
</div>

        <h2>08/30 (월) ~ 09/05 (일)</h2>
    </header>


    <div class="toc">
    </div>

    <article class="post-content">
        <ul id="markdown-toc">
  <li>
<a href="#%EB%B2%88%EC%97%AD" id="markdown-toc-번역">번역</a>    <ul>
      <li><a href="#%EB%B9%84%EC%8A%B7%ED%95%9C-%EC%A3%BC%EC%A0%9C%EC%9D%98-%EB%8B%A4%EB%A5%B8-%EA%B8%80" id="markdown-toc-비슷한-주제의-다른-글">비슷한 주제의 다른 글</a></li>
      <li>
<a href="#taking-away" id="markdown-toc-taking-away">Taking Away the Pain From Unit Testing in Google Apps Script</a>        <ul>
          <li><a href="#why-its-crucial" id="markdown-toc-why-its-crucial">Why It’s Crucial</a></li>
          <li>
<a href="#whats-inside" id="markdown-toc-whats-inside">What’s Inside</a>            <ul>
              <li><a href="#enabling-disabling-and-checking-the-status-of-the-tests" id="markdown-toc-enabling-disabling-and-checking-the-status-of-the-tests">Enabling, Disabling, and Checking the Status of the Tests</a></li>
              <li><a href="#choosing-the-environment-with-runingasboolean" id="markdown-toc-choosing-the-environment-with-runingasboolean">Choosing the Environment with runInGas(Boolean)</a></li>
              <li>
<a href="#actual-built-in-testing-methods" id="markdown-toc-actual-built-in-testing-methods">actual built-in testing methods</a>                <ul>
                  <li><a href="#assertcondition-message" id="markdown-toc-assertcondition-message">assert(condition, message)</a></li>
                  <li><a href="#catcherrcallback-expectederrormessage-message" id="markdown-toc-catcherrcallback-expectederrormessage-message">catchErr(callback, expectedErrorMessage, message)</a></li>
                  <li><a href="#is2darrayarray" id="markdown-toc-is2darrayarray">is2dArray(Array)</a></li>
                  <li><a href="#printheaderheaderstr" id="markdown-toc-printheaderheaderstr">printHeader(headerStr)</a></li>
                  <li><a href="#clearconsole" id="markdown-toc-clearconsole">clearConsole()</a></li>
                  <li><a href="#addnewtestfunctionname-func" id="markdown-toc-addnewtestfunctionname-func">addNewTest(functionName, func)</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li>
<a href="#thinking-the-project-through" id="markdown-toc-thinking-the-project-through">Thinking the Project Through</a>            <ul>
              <li><a href="#setting-up-the-local-environment" id="markdown-toc-setting-up-the-local-environment">Setting Up the Local Environment</a></li>
            </ul>
          </li>
          <li><a href="#setting-up-the-tests-environment" id="markdown-toc-setting-up-the-tests-environment">Setting Up the Tests Environment</a></li>
          <li><a href="#writing-the-tests" id="markdown-toc-writing-the-tests">Writing the Tests</a></li>
          <li><a href="#creating-the-events-class" id="markdown-toc-creating-the-events-class">Creating the Events Class</a></li>
        </ul>
      </li>
      <li>
<a href="#effortless-ctags-with-git" id="markdown-toc-effortless-ctags-with-git">Effortless Ctags with Git</a>        <ul>
          <li><a href="#%EB%B3%B8%EB%AC%B8" id="markdown-toc-본문">본문</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#google-apps-script-testing-framework" id="markdown-toc-google-apps-script-testing-framework">Google Apps Script Testing Framework</a></li>
  <li><a href="#%EA%B8%B0%ED%83%80" id="markdown-toc-기타">기타</a></li>
</ul>

<h1 id="번역">번역</h1>

<h2 id="비슷한-주제의-다른-글">비슷한 주제의 다른 글</h2>

<ul>
  <li><a href="https://blog.ohheybrian.com/2019/11/unit-testing-gas-part-1-qunit-setup/">Unit Testing GAS ,시리즈글 5개, ohhey</a></li>
  <li><a href="https://github.com/kevincar/gast">GasT - Google Apps Script Testing-framework in TypeScript</a></li>
</ul>

<h2 id="taking-away">Taking Away the Pain From Unit Testing in Google Apps Script</h2>

<ul>
  <li>GAS의 유닛 테스팅에서 고통 제거하기 ?</li>
  <li>Google Apps Script 유닛 테스팅 관련 번역</li>
  <li>링크 : <a href="https://medium.com/geekculture/taking-away-the-pain-from-unit-testing-in-google-apps-script-98f2feee281d">Taking Away the Pain From Unit Testing in Google Apps Script, medium</a>
</li>
  <li>2021년 4월 7일 글</li>
  <li>저자 : Dmitry Kostyuk
    <ul>
      <li>Full-time GAS developer,</li>
      <li>founder at <a href="https://www.wurkspaces.dev/">Wurkspaces.dev</a>
        <ul>
          <li>큰 회사는 아니고 GAS로 서비스를 만들어주는 업체인듯</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>댓글이 1개 인데..
    <ul>
      <li>저자가 만든 앱과 경쟁관계에 있는 앱 개발자가 달았음. <img class="emoji" title=":smile:" alt=":smile:" raw="😄" src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" style="vertical-align: middle; display: inline; max-width: 1em; visibility: hidden;" onload="this.style.visibility='visible'" onerror="this.replaceWith(this.getAttribute('raw'))">
        <ul>
          <li>Andrew Roberts : QunitGS2 개발자 (유사한 라이브러리)
            <ul>
              <li>흥미있는 기사다.</li>
              <li>Apps Script 프로젝트가 커지고 복잡해지면서 더욱 유용할것이다</li>
              <li>당신 글의 독자들이 흥미있어할만한 다른 솔루션도 있다</li>
              <li><a href="https://www.andrewroberts.net/2020/08/qunitgs2-create-qunit-tests-with-google-apps-script/">QUnitGS 소개 링크</a></li>
            </ul>
          </li>
          <li>Dmitry Kostyuk의 답변
            <ul>
              <li>댓글 달아줘서 고맙다. Andrew</li>
              <li>Apps Script 프로젝트의 testing 분야에 대해 같이 talk할 수 있어 너무 좋다(great)</li>
              <li>나는 당신의 QUnitGS 보다는 나의  UnitTestingApp을 계속쓰려고 하는데 그 이유는..
                <ul>
                  <li>QUnitGS가 내가 필요로 하는 모두 요구사항을 만족하지는 않기 때문이다..</li>
                  <li>(doesn’t tick all the boxes that I need…) : (체크리스트의) 모든 box를 체크(tick)하지는 못한다
                    <ul>
                      <li>알아둘 필요가 있는 영어 숙어임</li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>번역하다보니, Typescirpt를 쓰는 경우가 고려안된듯 하다. 번역을 계속할지 고민중</li>
</ul>

<h3 id="why-its-crucial">Why It’s Crucial</h3>

<ul>
  <li>Unit testing은 엄청나게 중요한 습관?(practice) 이다</li>
  <li>뭔가 고장나자마자 바로 개발자들로 하여금 쉽게 버그를 피하도록 해준다</li>
  <li>이것은 또한 리팩토링을 쉽게 만든다</li>
  <li>
<a href="https://thawkin3.medium.com/">Tyler Hawkins</a>가 쓴 최신 article에 이것이 필수적인 이유에 대한 <a href="https://levelup.gitconnected.com/we-didnt-write-tests-because-we-wanted-to-get-our-code-out-faster-2f9de49a52d7">훌륭한 개요</a> 가 있다.</li>
  <li>경험이 부족한  개발자들은 급하게 코딩으로 뛰어드는 경향이 있다
    <ul>
      <li>그러다가 다시 동작하도록 만들기 전에</li>
      <li>버그 때문에 몇시간 혹은 며칠을 소비하기도 한다</li>
    </ul>
  </li>
  <li>당신이 아직 유닛 테스팅에 익숙치 않다면,
    <ul>
      <li>여기서 읽기를 멈춰도 된다.</li>
      <li>유닛 테스팅에 대해 알고 나서 다시 와라. 기다리겠다</li>
    </ul>
  </li>
  <li>Javascript의 unit test를 위한 수많은 라이브러리가 있다.
    <ul>
      <li>Jest와 Mocha도 여기에 포함된다.</li>
      <li>하지만 이 들은 Google Apps Script 환경 아래에 잘 적용되지 않는다</li>
      <li>GAS를 위한 해결책은 많이 없는데</li>
      <li>그것들이 뛰어나게 좋은건 아니다</li>
    </ul>
  </li>
  <li>이런 이유로, Google Apps Script를 염두에 둔 나만의 라이브러리를 개발했다
    <ul>
      <li>내 리포지토리를 체크해라 . <a href="https://github.com/WildH0g/UnitTestingApp">UnitTestingApp</a>
</li>
    </ul>
  </li>
  <li>내가 이런 라이브러리로 부터 어떤 것이 필요한지 궁금했 다. 내 체크리스트를 확인하라
    <ul>
      <li>테스트는 로컬 환경과 GAS 환경 양쪽에서 수행되어야 한다
        <ul>
          <li>맞다, GAS를 로컬에서 테스팅하는 것은 생각보다 어려운것이 아니다</li>
        </ul>
      </li>
      <li>무겁지 않아야 한다</li>
      <li>유지 하기 쉬워야 한다</li>
    </ul>
  </li>
</ul>

<h3 id="whats-inside">What’s Inside</h3>

<ul>
  <li>라이브러리에 뭐가 있는지 보자</li>
  <li>
<code class="language-html highlighter-rouge">UnitTestingApp</code>이라 불리는 작은 클래스가 있다
    <ul>
      <li>여기에는 몇가지 간단한 함수가 있다</li>
      <li>” 경량과 쉬운 유지보수”를 기억하나?</li>
      <li>또한 mock data를 add하고 작업을 하기위한  <code class="language-html highlighter-rouge">MockData</code> Class가 있다
        <ul>
          <li>이 것은 test를 offline에서 돌리기 위해 중요하다</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>몇가지 더 있지만 나중에 소개하겠다</li>
</ul>

<h4 id="enabling-disabling-and-checking-the-status-of-the-tests">Enabling, Disabling, and Checking the Status of the Tests</h4>

<ul>
  <li>메소드 두개 :  <code class="language-html highlighter-rouge">enable()</code>, <code class="language-html highlighter-rouge">disable()</code>
</li>
  <li>프로퍼티 한 개 : <code class="language-html highlighter-rouge">isEnabled</code>
</li>
  <li>가 있다. (희망하건데) 보면 알수 있을 것이다.</li>
  <li>문법은 ..
    <div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td>
<td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">test</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">UnitTestingApp</span><span class="p">();</span>
<span class="nx">test</span><span class="p">.</span><span class="nx">enable</span><span class="p">();</span>
<span class="c1">// code</span>
<span class="k">if</span><span class="p">(</span><span class="nx">test</span><span class="p">.</span><span class="nx">isEnabled</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// code</span>
<span class="p">}</span>
<span class="nx">test</span><span class="p">.</span><span class="nx">disable</span><span class="p">();</span>
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h4 id="choosing-the-environment-with-runingasboolean">Choosing the Environment with runInGas(Boolean)</h4>

<ul>
  <li>
<code class="language-html highlighter-rouge">runInGas(Boolean)</code> 함수로 개발자는
    <ul>
      <li>다음줄에 이어지는 테스트가 실행되기를 원하는 환경을 선택할 수 있다
        <div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td>
<td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">test</span>  <span class="o">=</span> <span class="k">new</span> <span class="nx">UnitTestingApp</span><span class="p">();</span>
<span class="nx">test</span><span class="p">.</span><span class="nx">runInGas</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="c1">// local tests</span>
<span class="nx">test</span><span class="p">.</span><span class="nx">runInGas</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="c1">// switch to online tests in Google Apps Script environment</span>
</pre></td>
</tr></tbody></table></code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<h4 id="actual-built-in-testing-methods">actual built-in testing methods</h4>

<ul>
  <li>실제 내장된 테스팅 메소드는 다음과 같다</li>
</ul>

<h5 id="assertcondition-message">assert(condition, message)</h5>

<ul>
  <li>
<code class="language-html highlighter-rouge">assert()</code> 는 클래스의 메인 메소드 이다</li>
  <li>첫번째로 받는 argument는 조건이다. 참, 거짓을 판단한다
    <ul>
      <li>condition은 boolean 값이 될수도 있으며</li>
      <li>boolean을 반환하는 함수가 될수도 있는데</li>
      <li>error를 잡기위해 함수가 좀 더 선호된다</li>
    </ul>
  </li>
  <li>condition이 참이면 “PASSED” 메시지를 로그 출력한다
    <ul>
      <li>그외의 경우 “FAILED” 메시지를 로그 출력한다</li>
    </ul>
  </li>
  <li>에러를 던지는 함수를 넘겨주면,
    <ul>
      <li>이 method는 에러를 잡고</li>
      <li>“FAILED” 메시지를 로그 출력한다.</li>
    </ul>
  </li>
  <li>예를 들면:
    <div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td>
<td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">num</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
<span class="nx">test</span><span class="p">.</span><span class="nx">assert</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">num</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">===</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">`Number </span><span class="p">${</span><span class="nx">num</span><span class="p">}</span><span class="s2"> is even`</span><span class="p">);</span>
<span class="c1">// logs out PASSED: Number 6 is even</span>
<span class="nx">test</span><span class="p">.</span><span class="nx">assert</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">num</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">`Number </span><span class="p">${</span><span class="nx">num</span><span class="p">}</span><span class="s2"> is bigger than 10`</span><span class="p">);</span>
<span class="c1">// logs out FAILED: Number 6 is bigger than 10</span>
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h5 id="catcherrcallback-expectederrormessage-message">catchErr(callback, expectedErrorMessage, message)</h5>

<ul>
  <li>이 method의 목표는 당신의 콜백 함수 (<code class="language-html highlighter-rouge">callback</code>)가 정확한 에러를 잡는지 테스트한다</li>
  <li>당신이 원하는 것은 그 콜백이 실제로 에러를 던지는지 확인하는 것이다</li>
  <li>그리고 나서,  <code class="language-html highlighter-rouge">catchErr()</code> method는 그것이 맞는 것인지 체크할 것이다</li>
  <li>마지막으로, 관련 메시지를 로그 출력한다</li>
  <li>예를 들면, 어떤 숫자의 제곱값을 반환하는 함수에 숫자가 아닌 값을 입력할 경우 에러를 예상할 때</li>
  <li>
    <p>이런식으로 에러를 테스트 할 수 있다</p>

    <div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td>
<td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">square</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">number</span> <span class="o">!==</span> <span class="dl">'</span><span class="s1">number</span><span class="dl">'</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Argument must be a number</span><span class="dl">'</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">number</span> <span class="o">*</span> <span class="nx">number</span><span class="p">;</span>
  <span class="p">}</span>
<span class="nx">test</span><span class="p">.</span><span class="nx">catchErr</span><span class="p">(</span>
  <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">square</span><span class="p">(</span><span class="dl">'</span><span class="s1">a string</span><span class="dl">'</span><span class="p">),</span> <span class="c1">// we're passing a string here to test that our function throws an error</span>
  <span class="dl">'</span><span class="s1">Argument must be a number</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// this is the error message we are expecting</span>
  <span class="dl">'</span><span class="s1">We caught the type error correctly</span><span class="dl">'</span>
  <span class="p">);</span>
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h5 id="is2darrayarray">is2dArray(Array)</h5>

<ul>
  <li>이 메소드는 argument가 2D array인지 체크하는 테스트를 실행한다</li>
  <li>스프레드 시트 값을 스프레드 시트에 넣기전에 체크하는 용도로 사용된다
    <div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td>
<td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">values</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">[</span><span class="dl">'</span><span class="s1">a1</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">a2</span><span class="dl">'</span><span class="p">],</span>
  <span class="p">[</span><span class="dl">'</span><span class="s1">b1</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">b2</span><span class="dl">'</span><span class="p">]</span>
  <span class="p">];</span>
<span class="nx">test</span><span class="p">.</span><span class="nx">is2dArray</span><span class="p">(</span><span class="nx">values</span><span class="p">,</span> <span class="dl">'</span><span class="s1">values is an array of arrays</span><span class="dl">'</span><span class="p">);</span> 
<span class="c1">// logs out "PASSED: values is an array of arrays"</span>
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h5 id="printheaderheaderstr">printHeader(headerStr)</h5>

<ul>
  <li>
    <p>헤더를 콘솔에 다음과 같이 뿌려서 가독성을 높인다</p>

    <div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td>
<td class="rouge-code"><pre><span class="nx">test</span><span class="p">.</span><span class="nx">printHeader</span><span class="p">(</span><span class="dl">'</span><span class="s1">Offline tests</span><span class="dl">'</span><span class="p">);</span>
<span class="cm">/* Logs out the following:
*********************
* Offline tests
*********************
*/</span>
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h5 id="clearconsole">clearConsole()</h5>

<ul>
  <li>로컬 환경에 있을때 console log를 지우는 직접적인 method 이다</li>
</ul>

<h5 id="addnewtestfunctionname-func">addNewTest(functionName, func)</h5>

<ul>
  <li>마지막으로 신규 테스트를 추가하는 메소드이다</li>
  <li>
    <p>예를 들면, 숫자가 짝수인지 검사하는 테스트가 필요하다고 할 때</p>

    <div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td>
<td class="rouge-code"><pre><span class="cm">/*
* Defining our test function and making use of the built-in assert() method to log out a 
* PASSED or FAILED message
*/</span>
<span class="kd">function</span> <span class="nx">isEven</span><span class="p">(</span><span class="nx">number</span><span class="p">,</span> <span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">assert</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">number</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">===</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">message</span><span class="p">);</span>
  <span class="p">}</span>
<span class="nx">test</span><span class="p">.</span><span class="nx">addNewText</span><span class="p">(</span><span class="dl">'</span><span class="s1">isEven</span><span class="dl">'</span><span class="p">,</span> <span class="nx">isEven</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">number</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
<span class="nx">test</span><span class="p">.</span><span class="nx">isEven</span><span class="p">(</span><span class="nx">number</span><span class="p">,</span> <span class="s2">`Number </span><span class="p">${</span><span class="nx">number</span><span class="p">}</span><span class="s2"> is even`</span><span class="p">);</span> <span class="c1">// logs out PASSED: Number 8 is even</span>
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>예제에서 이 메소드를 사용할 예정은 아니지만</li>
  <li>이 라이브러리를 확장할 방법이 있다는 것은 알아두면 좋다</li>
</ul>

<h3 id="thinking-the-project-through">Thinking the Project Through</h3>

<ul>
  <li>(역자주) 여기서부터 구체적인 앱을 만들고 테스트를 추가해본다</li>
  <li>우리가 구축하려는 app은 간단한 것이다
    <ul>
      <li>다가오는 2주동안의 캘린더 데이터를 끌어내어</li>
      <li>spreadsheet에 저장하고</li>
      <li>HTML table로 변환하고</li>
      <li>이메일로 보내는 것이다</li>
    </ul>
  </li>
  <li>그러면 어떤 클래스가 필요하고
    <ul>
      <li>그에 대응되는 어떤 테스트가 필요하게 될까?</li>
      <li>하나하나 쪼개어 분석해보자</li>
    </ul>
  </li>
  <li>
<code class="language-html highlighter-rouge">Events</code> class 가 필요하다.
    <ul>
      <li>
<strong>start date</strong> 와 <strong>end date</strong> 두 개의 arguments를 받는다</li>
      <li>이 class는 <code class="language-html highlighter-rouge">CalendarApp</code> class에 연결되어</li>
      <li>두개의 날짜 사이의 모든 예약된 이벤트를 회수할 것이다.</li>
    </ul>
  </li>
  <li>이 것은 구체적으로 아래의 fields를 포함한다
    <ul>
      <li>start time</li>
      <li>end time</li>
      <li>title</li>
      <li>location</li>
      <li>guest list</li>
      <li>our status ( 참석자를 확정했는지 여부)</li>
    </ul>
  </li>
  <li>
<code class="language-html highlighter-rouge">Events</code> class를 위해 아래 tests가 필요하다
    <ul>
      <li>2D array를 반환하는지 확인
        <ul>
          <li>역자주: 반환되는 데이타가 spread sheet에 저장가능한 2D Array 여야 함</li>
        </ul>
      </li>
      <li>두 개의 arguments중 date 형식이 아닌 데이터가 있는지 확인</li>
    </ul>
  </li>
  <li>일단 class가 기대한대로 작동하는지 확인했다면
    <ul>
      <li>출력을 HTML code로 변환해야한다</li>
    </ul>
  </li>
  <li>이 목적을 위해, <code class="language-html highlighter-rouge">ArrayToHtml</code>이라는 class를 작성할 것이다
    <ul>
      <li>
<code class="language-html highlighter-rouge">ArrayToHtml</code> class 는 2D Array를 입력받아 HTML table 을 출력한다</li>
      <li>그러므로, 이 class 가 유효한 HTML table을 반환하는지도 test해야한다</li>
    </ul>
  </li>
</ul>

<h4 id="setting-up-the-local-environment">Setting Up the Local Environment</h4>

<ul>
  <li>local GAS 개발에 대해서는, autocomplete를 지원하는 VS Code가 최고의 IDE이다</li>
  <li>autocomplete 가 동작하도록 하기 위해서는, node.js와 npm이 설치되어야한다</li>
  <li>당신은 또한 아래의 패키지를 설치할 필요가 있다. 터미널에서 아래 명령을 실행하라
    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre><span class="o">&gt;</span> npm <span class="nb">install</span> <span class="nt">--save</span> @types/google-apps-script
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>이 후에, 로컬 <code class="language-html highlighter-rouge">.js</code> 파일을 생성하고, <code class="language-html highlighter-rouge">import 'google-apps-script';</code>를 써넣어라
    <ul>
      <li>나중에 해당 파일이 온라인 프로젝트에 노출되지 않도록 <code class="language-html highlighter-rouge">.claspignore</code> 추가하길 원할 것이다</li>
      <li>(역자주) Typescript 를 사용하면 이 방법은 필요없을듯…
        <ul>
          <li>이 파일은 로컬에서만 존재하는 임시파일인 듯 한데 용도를 정확히 모르겠음.</li>
          <li>이 방법은 일반 javascript로 작성할 때 이용할듯 하다</li>
          <li>TypeScript를 사용하면 이 방법을 안써도 autocompte이 잘 된다</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>당신이 설치해야 하는 또 다른 패키지는  <code class="language-html highlighter-rouge">clasp</code>이다.
    <ul>
      <li>아래 명령을 터미널에서 실행하라
        <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre><span class="o">&gt;</span> npm <span class="nb">install</span> @google/clasp <span class="nt">-g</span>
</pre></td>
</tr></tbody></table></code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>이제 당신 코드를 서버와 동기화 시키기 위해 아래 명령을 사용한다</li>
  <li>내가 일반적으로 사용하는 방법은 다음과 같다
    <ol>
      <li>Google Apps Script 프로젝트를 온라인에서 먼저 생성한다</li>
      <li>ID 를 복사한다</li>
      <li>프로젝트를 저장할 로컬폴더를 생성하고 터미널에서 해당 폴더로 이동한다</li>
      <li>로그인 안되어 있거나, 다른 계정으로 로그인 되어 있다면 <code class="language-html highlighter-rouge">clasp login</code>을 먼저 실행한다</li>
      <li>
<code class="language-html highlighter-rouge">clasp clone "<span class="nt">&lt;PROJECT_ID&gt;</span>"</code> 를 실행하여, 온라인 프로젝트를 로컬 폴더에 동기화 한다</li>
      <li>
<code class="language-html highlighter-rouge">clasp push -w</code>를 실행한여 로컬 폴더를 수정하고 저장할 때마다 자동으로 온라인에 동기화 한다</li>
      <li>작업을 끝내고 온라인에 code를 pushing 하는 것을 멈추기 위해, <kbd>Ctrl</kbd>+<kbd>c</kbd>를 누른다</li>
    </ol>
  </li>
  <li>로컬 파일들은 <code class="language-html highlighter-rouge">.js</code> 확장자를 가져야 한다.
    <ul>
      <li>온라인으로 동기화 될 때 Apps Script의 native인 <code class="language-html highlighter-rouge">.gs</code> 확장자로 변경된다</li>
      <li>좀더 자세한 내용은 <a href="https://developers.google.com/apps-script/guides/clasp">clasp 매뉴얼</a>을 참조하라</li>
    </ul>
  </li>
</ul>

<h3 id="setting-up-the-tests-environment">Setting Up the Tests Environment</h3>

<ul>
  <li>당신이 코드를 작성하기 전에 테스트를 작성하는 것은 좋은 습관이다
    <ul>
      <li>처음에는 <code class="language-html highlighter-rouge">FALIED</code> 결과를 내는 테스트로 채워지겠지만</li>
      <li>코드를 작성해 감에 따라 점차 <code class="language-html highlighter-rouge">PASSED</code>로 채워질 것이다</li>
    </ul>
  </li>
  <li>엣지 케이스를 포함하여 모든 테스트가 완전하게 통과되면
    <ul>
      <li>당신이 작성한 코드가 안정적임을 확인할 수 있다</li>
    </ul>
  </li>
  <li>
<code class="language-html highlighter-rouge">git</code>을 설치했다면, <code class="language-html highlighter-rouge">git clone</code>을 실행해 나의 <a href="https://github.com/WildH0g/UnitTestingApp">repository</a>를 clone 하라</li>
  <li>
<code class="language-html highlighter-rouge">git</code>을 설치하지 않았다면, 나는 나중에라도 설치하길 권장하지만
    <ul>
      <li>일단 지금은, 해당 리포지토리로 가서 zip파일을 다운로드 받아서</li>
      <li>
<code class="language-html highlighter-rouge">UnitTestingApp.js</code>, <code class="language-html highlighter-rouge">MockData.js</code>, <code class="language-html highlighter-rouge">TestingTemplate.js</code>를 로컬에 설치한다</li>
    </ul>
  </li>
  <li>위 3 파이을 당신의 프로젝트 폴더에 복사하라
    <ul>
      <li>
<code class="language-html highlighter-rouge">TestingTemplate.js</code> 파일은 <code class="language-html highlighter-rouge">Tests.js</code> 로 이름을 변경해도 된다</li>
    </ul>
  </li>
  <li>이제, testing template을 한 번 보자</li>
  <li>
    <p>이 곳이 모든 magic이 일어나는 곳이다</p>

    <div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre></td>
<td class="rouge-code"><pre><span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">require</span> <span class="o">!==</span> <span class="dl">'</span><span class="s1">undefined</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
 <span class="nx">UnitTestingApp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./UnitTestingApp.js</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span>
   
<span class="cm">/*****************
* TESTS
*****************/</span>
   
<span class="cm">/**
* Runs the tests; insert online and offline tests where specified by comments
* @returns {void}
*/</span>
<span class="kd">function</span> <span class="nx">runTests</span><span class="p">()</span> <span class="p">{</span>
 <span class="kd">const</span> <span class="nx">test</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">UnitTestingApp</span><span class="p">();</span>
 <span class="nx">test</span><span class="p">.</span><span class="nx">enable</span><span class="p">();</span>
 <span class="nx">test</span><span class="p">.</span><span class="nx">clearConsole</span><span class="p">();</span>
   
 <span class="nx">test</span><span class="p">.</span><span class="nx">runInGas</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
 <span class="nx">test</span><span class="p">.</span><span class="nx">printHeader</span><span class="p">(</span><span class="dl">'</span><span class="s1">LOCAL TESTS</span><span class="dl">'</span><span class="p">);</span>
 <span class="c1">// Local tests go here</span>
   
 <span class="nx">test</span><span class="p">.</span><span class="nx">runInGas</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
 <span class="nx">test</span><span class="p">.</span><span class="nx">printHeader</span><span class="p">(</span><span class="dl">'</span><span class="s1">ONLINE TESTS</span><span class="dl">'</span><span class="p">);</span>
 <span class="c1">// Online tests go here</span>
<span class="p">}</span>
   
<span class="cm">/**
* If in a local environment, executes the tests. In a GAS environment, runTests() must be executed manually
*/</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
 <span class="cm">/**
* @param {Boolean} - if true, we're in a GAS environment, otherwise we're running locally
*/</span>
 <span class="kd">const</span> <span class="nx">IS_GAS_ENV</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">ScriptApp</span> <span class="o">!==</span> <span class="dl">'</span><span class="s1">undefined</span><span class="dl">'</span><span class="p">;</span>
 <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">IS_GAS_ENV</span><span class="p">)</span> <span class="nx">runTests</span><span class="p">();</span>
<span class="p">})();</span>
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>위 코드에서 어떤일이 일어나는지 보자</li>
  <li>첫번째 라인에서
    <ul>
      <li>
<code class="language-html highlighter-rouge">UnitTestingApp.js</code> 파일을 요구했다</li>
      <li>
<code class="language-html highlighter-rouge">if (typeof require !== 'undefined')</code> 문구는 <code class="language-html highlighter-rouge">require</code>를 로컬 환경에서만 실행하도록 확정한다</li>
      <li>
<code class="language-html highlighter-rouge">require</code>는 Apps Script 환경에서는 없기때문에 <code class="language-html highlighter-rouge">if</code>문으로 에러를 던지지 않도록 조치한다</li>
    </ul>
  </li>
  <li>
<code class="language-html highlighter-rouge">runTests()</code> 함수에 모든 testing 코드가 있다
    <ul>
      <li>그 안에서, <code class="language-html highlighter-rouge">enable()</code>로 테스트를 활성화 하고</li>
      <li>
<code class="language-html highlighter-rouge">clearConsole()</code>로 이전 테스트 결과를 지운다</li>
      <li>그 다음엔, <code class="language-html highlighter-rouge">runInGas()</code>로 시작하는 두 개의 코드 블럭이 있는데 각각 offline과 online 테스트를 수행한다</li>
      <li>
<code class="language-html highlighter-rouge">printHeader()</code>로 어떤 환경에서 실행되고 있는지 정확히 볼수 있다</li>
    </ul>
  </li>
  <li>파일 마지막 부분의 IIFE는 Apps Script 환경에 있는지 여부를 체크한다
    <ul>
      <li>Apps Script 환경이 아니라면, <code class="language-html highlighter-rouge">runTests()</code> 함수를 실행한다.</li>
      <li>GAS online IDE 환경이라면, <code class="language-html highlighter-rouge">runTests()</code> 함수는 수동적으로 실행해야 한다</li>
    </ul>
  </li>
  <li>이제 우리가 해야할 것은 “offline tests”와 “online tests”라는 헤더 아래쪽에 테스트 코드를 넣는 것 뿐이다</li>
</ul>

<h3 id="writing-the-tests">Writing the Tests</h3>

<ul>
  <li>이전 섹션에서, 우리가 어떤 테스트가 필요할지 이미 결정했다</li>
  <li>offline 테스트 블럭에 실제로 테스트 코드를 넣어보자
    <div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td>
<td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">now</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">later</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">now</span><span class="p">.</span><span class="nx">getDate</span><span class="p">()</span> <span class="o">+</span> <span class="mi">14</span><span class="p">));</span>
<span class="kd">const</span> <span class="nx">events</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Events</span><span class="p">(</span><span class="nx">now</span><span class="p">,</span> <span class="nx">later</span><span class="p">);</span>
   
<span class="nx">test</span><span class="p">.</span><span class="nx">catchErr</span><span class="p">(</span>
  <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">Events</span><span class="p">(</span><span class="dl">'</span><span class="s1">not a date</span><span class="dl">'</span><span class="p">,</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span> <span class="mi">59</span><span class="p">)),</span>
  <span class="dl">'</span><span class="s1">startTime is not a valid Date object</span><span class="dl">'</span><span class="p">,</span>
  <span class="dl">'</span><span class="s1">startTime type error successfully caught</span><span class="dl">'</span>
<span class="p">);</span>
   
<span class="nx">test</span><span class="p">.</span><span class="nx">catchErr</span><span class="p">(</span>
  <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">Events</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="dl">'</span><span class="s1">not a date</span><span class="dl">'</span><span class="p">),</span>
  <span class="dl">'</span><span class="s1">endTime is not a valid Date object</span><span class="dl">'</span><span class="p">,</span>
  <span class="dl">'</span><span class="s1">endTime type error successfully caught</span><span class="dl">'</span>
<span class="p">);</span>
   
<span class="nx">test</span><span class="p">.</span><span class="nx">is2dArray</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">events</span><span class="p">.</span><span class="kd">get</span><span class="p">(),</span> <span class="dl">'</span><span class="s1">Calendar data is a 2D array</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">test</span><span class="p">.</span><span class="nx">assert</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">events</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Calendar array has multiple rows</span><span class="dl">'</span><span class="p">);</span>
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>처음 두개의 메소드는 <code class="language-html highlighter-rouge">catchErr()</code> 이며, 각각 새로운 <code class="language-html highlighter-rouge">Events</code> 객체를 생성한다</li>
  <li>각각은 date 대신 문자열 argument를 넘기고 있다</li>
  <li>이 테스트에서 <code class="language-html highlighter-rouge">Events</code> class가 에러를 던지길 기대한다</li>
  <li>그리고 나서, <code class="language-html highlighter-rouge">Events</code>의 <code class="language-html highlighter-rouge">get()</code> method가 2D array를 반환하는지 체크하고 싶기 때문에
    <ul>
      <li>
<code class="language-html highlighter-rouge">is2dArray()</code> method로 입력한다</li>
    </ul>
  </li>
  <li>마지막으로, 적어도 몇개 이상의 events가 있는지 2D array의 길이를 <code class="language-html highlighter-rouge">assert()</code>로 체크한다</li>
  <li>터미널에서 프로젝트 폴더로 이동해서
    <ul>
      <li>
<code class="language-html highlighter-rouge">nodemon Tests.js</code>(<code class="language-html highlighter-rouge">nodemon</code>을 설치하지 않았으면 <code class="language-html highlighter-rouge">node Tests.js</code>)를 실행한다</li>
      <li>이 시점에서 모든 tests는 다음과 같이 fail이 난다</li>
      <li><img src="https://miro.medium.com/max/461/0*rzLTz1RzJBJp2Gct" alt="테스트 실패 결과"></li>
    </ul>
  </li>
</ul>

<h3 id="creating-the-events-class">Creating the Events Class</h3>

<ul>
  <li>이제, <code class="language-html highlighter-rouge">Events</code> class를 <code class="language-html highlighter-rouge">new Events(startDate, endDate)</code>로 초기화 할 수있고</li>
  <li>
<code class="language-html highlighter-rouge">get()</code> method로 data를 2D array 형식으로 회수할수 있기를 원한다는 것을 안다</li>
  <li>당신이 작성한 class의 내용을 출력하기 위해 class에 <code class="language-html highlighter-rouge">print()</code> mothod를 추가하는 것도 좋은 습관이다</li>
  <li>이 method는 나중에 필요할 것이다</li>
  <li>한 번 만들어 보자
    <div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td>
<td class="rouge-code"><pre><span class="kd">let</span> <span class="nx">Events</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">_events</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">WeakMap</span><span class="p">();</span>

  <span class="kd">class</span> <span class="nx">Events</span> <span class="p">{</span>
   <span class="kd">constructor</span><span class="p">(</span><span class="nx">startTime</span><span class="p">,</span> <span class="nx">endTime</span><span class="p">,</span> <span class="nx">calId</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">startTime</span> <span class="k">instanceof</span> <span class="nb">Date</span><span class="p">))</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">startTime is not a valid Date object</span><span class="dl">'</span><span class="p">);</span>
     <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">endTime</span> <span class="k">instanceof</span> <span class="nb">Date</span><span class="p">))</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">endTime is not a valid Date object</span><span class="dl">'</span><span class="p">);</span>
   <span class="p">}</span>
   <span class="kd">get</span><span class="p">()</span> <span class="p">{</span>
   <span class="p">}</span>
   <span class="nx">print</span><span class="p">()</span> <span class="p">{</span>
   <span class="p">}</span>
  <span class="p">}</span>
    
  <span class="k">return</span> <span class="nx">Events</span><span class="p">;</span>
<span class="p">})();</span>

<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">module</span> <span class="o">!==</span> <span class="dl">'</span><span class="s1">undefined</span><span class="dl">'</span><span class="p">)</span> <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">Events</span><span class="p">;</span>
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
<code class="language-html highlighter-rouge">Events</code> class 는 자체 파일로 이동해야 한다</li>
  <li>edge case로 시작해보자
    <ul>
      <li>constructor는 두 개의 arguments를 받는다: <code class="language-html highlighter-rouge">startTime</code>, <code class="language-html highlighter-rouge">endTime</code>
</li>
      <li>우선, <code class="language-html highlighter-rouge">startTime</code>과  <code class="language-html highlighter-rouge">endTime</code>이 <code class="language-html highlighter-rouge">Date</code>의 인스턴스인지, 아니면 error를 던지는지 체크하고 싶다</li>
      <li>이미 test file에서 에러 메시지를 정의했으므로 사용해보자</li>
    </ul>
  </li>
  <li>모듈을 <code class="language-html highlighter-rouge">module.exports</code>로 export해서 test file이 import 할수 있도록 하자</li>
  <li>(역자) 번역은 일단 여기서 중단 다른 Test Framwork을 써보기로 했음</li>
</ul>

<h2 id="effortless-ctags-with-git">Effortless Ctags with Git</h2>

<ul>
  <li>원문 링크 : <a href="https://tbaggery.com/2011/08/08/effortless-ctags-with-git.html">Effortless Ctags with Git, tpope blog</a>
</li>
  <li>Git 으로 Ctags 쉽게 하기 ?</li>
  <li>저자 : 그 유명한 <a href="https://github.com/tpope">Tim Pope</a>
</li>
  <li>작성일 : 2011년 8월 8일</li>
  <li>요즘 Ctags를 많이 만나는데 번역해보기로 했다</li>
  <li>참고로 <code class="language-html highlighter-rouge">Exuberant Ctags</code>은 2009년에 업데이트가 멈췄는데 2011년의 Tim Pope는 아직 모르는 듯</li>
</ul>

<h3 id="본문">본문</h3>

<ul>
  <li>프로그래밍 바위 (programming rock) 아래에서 살아왔다면, (즉, 프로그래밍에 파묻혀 살아왔다면)
    <ul>
      <li>(역자주) <a href="https://jakubmarian.com/living-under-a-rock-english-idiom-with-meaning-and-examples/"><code class="language-html highlighter-rouge">Living under a rock</code></a> 은 일종의 숙어로 ..
        <ul>
          <li>(어디 처박혀 사느라고) 밖에서 무슨일이 일어나는지도 모른다는 의미를 내포한다</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Ctags은 (Exuberant Ctags를 말하는거다. OS X 와 함께 배포되는 BSD version이 아님) ..
    <ul>
      <li>(여러 에디터들중에서) Vim (:help tags를 봐라)에서 함수들, 변수들, 클래스들과 다른 identifiers간에</li>
      <li>점프하는것이 쉽도록 소스코드를 인덱싱한다.</li>
    </ul>
  </li>
  <li>Ctags의 가장 큰 단점 (major downside)은 ..
    <ul>
      <li>그 인덱스를 매번 수동으로 rebuild 해야 하다는 거다</li>
    </ul>
  </li>
  <li>이 지점에서 <code class="language-html highlighter-rouge">그렇게 참신하지 않은</code>, 다양한 Git commit hook에서 re-indexing 을 하자는 아이디어가 왔다
    <ul>
      <li>(역자주) 위에서 <code class="language-html highlighter-rouge">그렇게 참신하지 않은</code>에 링크가 걸려있는데 지금은 끊겨있다
        <ul>
          <li>
<a href="https://pythonq.com/so/ruby-on-rails/759608">이 링크</a> 를 보니 다른 사람이 이미 만든 아이디어인듯 하다</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Git hook은 리포지토리에 따라 다르다 (repository specific)
    <ul>
      <li>설치할 때 스크립트 사용하기를 추천했던 <a href="http://blog.tobiascrawley.net/2009/01/01/generating-a-tags-file-from-a-git-hook/">어떤사람이 </a> 주어진 리포지토리에 hook을 넣으라고 말했다</li>
      <li>하지만 내게는 그 건 너무 수작업적이다</li>
      <li>Git 이 repository를 생성하거나 클로닝할 때 템플릿으로 쓸만한 기본적인 hook 세트를 만들어 보자
        <ul>
          <li>Git 1.7.1 이상 버전이 필요하다
            <pre><code class="language-sh[">&gt; git config --global init.templatedir '~/.git_template'
&gt; mkdir -P ~/.git_template/hooks
</code></pre>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>첫번째 hook을 보면, 실제로 hook이 전혀 아니고, 다른 hook이 호출할 스크립트라고 할수 있지만
    <ul>
      <li>.git_template/hooks/ctags 으로 가서</li>
      <li>실행가능한 것으로 mark 해라 ?? ( linux 의 chmod 명령으로 hook을 executable로 변경하라고 하는 듯)</li>
      <li>(역자주)이와 <a href="https://gist.github.com/raftaar1191/c0c9d4981327b20f8ab02f1d08bef168">유사한 코드</a>를 gist에서 발견함</li>
    </ul>
  </li>
  <li>번역은 일단 여기서 중단함
    <ul>
      <li>모르는 개념이 너무 많음</li>
      <li>git hook을 공부하고 추후 진행해볼 것</li>
    </ul>
  </li>
</ul>

<h1 id="google-apps-script-testing-framework">Google Apps Script Testing Framework</h1>

<ul>
  <li><a href="https://github.com/kevincar/gast">GasT, Typescript verison</a></li>
</ul>

<h1 id="기타">기타</h1>

<ul>
  <li>악포 프린트 ( #악보)
    <ul>
      <li><a href="https://musescore.com/unnamedboi/undertale-ost-toby-fox-fallen-down-reprise-piano-solo">Fallen Down Undertale OST#85, musescore</a></li>
    </ul>
  </li>
  <li>
</li>
</ul>


    </article>
    <script>
    ;(function() {
        var tags = document.querySelectorAll('.post-tag');
        if(tags == null || tags.length < 1) {
            return;
        }

        for (var i = 0; i < tags.length; i++) {
            var item = tags[i];
            var tagList = item.innerHTML.trim();

            if(/^\s*$/.test(tagList)) {
                continue;
            }
            tagList = tagList.split(/\s+/)
                .map(function(tag) {
                    return `<a href="/tag/#${tag}">#${tag}</a>`;
                })
                .join(' ');
            tags[i].innerHTML = tagList;
        }
        return;
    })();
    ;(function() {
        var post = document.querySelector('article.post-content');

        if(post == null) {
            return;
        }

        (function iterate_node(node) {

            if (/^(?:p|ul|h\d|table)$/i.test(node.tagName)) {

                node.innerHTML = link(node.innerHTML);

            } else { // Node.ELEMENT_NODE
                for (var i = 0; i < node.childNodes.length; i++) {
                    iterate_node(node.childNodes[i]);
                }
            }
        })(post);

        function link(content) {
            content = content.replace(/\\\[\[(.+?)\]\]/g, '\\[\\[$1\\]\\]');
            content = content.replace(/\[\[(.+?)\]\]\{(.+?)\}/g, '<a href="../$1">$2</a>');
            content = content.replace(/\[\[(.+?)\]\]/g, '<a href="../$1">$1</a>');
            content = content.replace(/\\\[\\\[(.+?)\\\]\\\]/g, '[[$1]]');
            return content;
        }

    })();
</script>

    
    <div class="post-comments">
    
    
        <script src="https://utteranc.es/client.js" repo="honggaruy/honggaruy.github.io" issue-term="pathname" label="Comment" theme="github-light" crossorigin="anonymous" async>
        </script>
    
    </div>



</div>

            </div>
        </div>
        <footer class="footer">
    <div>

    </div>
</footer>
    
</body>
</html>
