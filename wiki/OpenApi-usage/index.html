<!DOCTYPE html>
<html>
    <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Open API ì‚¬ìš©í•˜ê¸° - í™ê°€ë¤¼ì˜ ê°œì¸ìœ„í‚¤</title>

    <meta name="description" content="ì‹¤ì œ ì‚¬ìš©ë²• ì •ë¦¬">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="https://honggaruy.github.io/wiki/OpenApi-usage/">
    <link rel="alternate" type="application/rss+xml" title="í™ê°€ë¤¼ì˜ ê°œì¸ìœ„í‚¤" href="https://honggaruy.github.io/feed.xml">

    <meta property="og:type" content="website">
    <meta property="og:title" content="Open API ì‚¬ìš©í•˜ê¸°">
    <meta property="og:description" content="ì‹¤ì œ ì‚¬ìš©ë²• ì •ë¦¬">
    <meta property="og:image" content="https://honggaruy.github.io/resources/icon/apple-touch-icon.png">
    <meta property="og:url" content="https://honggaruy.github.io/wiki/OpenApi-usage/">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@">
    <meta name="twitter:url" content="https://honggaruy.github.io/wiki/OpenApi-usage/">
    <meta name="twitter:title" content="Open API ì‚¬ìš©í•˜ê¸°">
    <meta name="twitter:description" content="ì‹¤ì œ ì‚¬ìš©ë²• ì •ë¦¬">

    <link rel="apple-touch-icon" sizes="180x180" href="/resources/icon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/resources/icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/resources/icon/favicon-16x16.png">
    <link rel="manifest" href="/resources/icon/site.webmanifest">




</head>
<body>
<header class="header">
    <div>
        <a class="site-title" href="/">í™ê°€ë¤¼ì˜ ê°œì¸ìœ„í‚¤</a>
    </div>
    <div>
        <a class="site-title-right" href="/about/">me</a>
    </div>
    <div>
        <a class="site-title-right" href="/wiki/index/#random" onclick="if(typeof random === 'function')random()">random</a>
    </div>
    <div>
        <a class="site-title-right" href="/blog/">blog</a>
    </div>
    <div>
        <a class="site-title-right" href="/wiki/index/">wiki</a>
    </div>
</header>

    
        <div class="page-content">
            <div class="search">
    <form role="search" method="get" action="/search/">
         <input name="searchString" class="searchInput" placeholder=" ê²€ìƒ‰í•˜ì„¸ìš”" type="text">
         <input type="submit" class="searchButton" value="Search">
    </form>
</div>
            <div class="post">
                
<input type="hidden" id="thisName" value="OpenApi-usage">
<div class="post">
    <header class="post-header">
        <h1 class="post-title">Open API ì‚¬ìš©í•˜ê¸°</h1>
    
        <p class="title-summary">ì‹¤ì œ ì‚¬ìš©ë²• ì •ë¦¬</p>
    
        <div class="history-button">
            <p><a href="https://github.com/honggaruy/honggaruy.github.io/blame/master/_wiki/OpenApi-usage.md" target="_blank">created: 2021.01.06</a></p>
            <p><a href="https://github.com/honggaruy/honggaruy.github.io/blame/master/_wiki/OpenApi-usage.md" target="_blank">updated: 2021.01.26</a></p>
            <p>
                <a href="https://github.com/honggaruy/honggaruy.github.io/edit/master/_wiki/OpenApi-usage.md">í¸ì§‘í•˜ê¸°</a>
                
                /
                <a href="https://github.com/honggaruy/honggaruy.github.io/issues/new?title=Open+API+%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0&amp;body=%EC%9D%98%EA%B2%AC%EC%9D%84%20%EB%82%A8%EA%B2%A8%EC%A3%BC%EC%84%B8%EC%9A%94">ì˜ê²¬ ë‚¨ê¸°ê¸°</a>
                
            </p>
        </div>
        <div id="parent-list"></div>


    <div class="post-tag">
    open-api config-js debug-js
</div>




    </header>
    <article class="post-content">
        <ul id="markdown-toc">
  <li><a href="#1-%EB%B0%9C%EB%8B%A8" id="markdown-toc-1-ë°œë‹¨">1. ë°œë‹¨</a></li>
  <li>
<a href="#2-%EC%A0%84%EA%B0%9C" id="markdown-toc-2-ì „ê°œ">2. ì „ê°œ</a>    <ul>
      <li>
<a href="#%EC%9D%B4%EC%8A%88%EB%93%A4" id="markdown-toc-ì´ìŠˆë“¤">ì´ìŠˆë“¤</a>        <ul>
          <li><a href="#api-key%EA%B0%80-url-encoding-%EC%B2%98%EB%A6%AC%EA%B0%80-%EB%90%98%EC%96%B4-%EC%8A%B9%EC%9D%B8%EB%90%98%EC%A7%80-%EC%95%8A%EC%9D%80-%ED%82%A4-%EC%97%90%EB%9F%AC%EA%B0%80-%EB%82%98%EB%8A%94-%EB%AC%B8%EC%A0%9C" id="markdown-toc-api-keyê°€-url-encoding-ì²˜ë¦¬ê°€-ë˜ì–´-ìŠ¹ì¸ë˜ì§€-ì•Šì€-í‚¤-ì—ëŸ¬ê°€-ë‚˜ëŠ”-ë¬¸ì œ">API Keyê°€ URL encoding ì²˜ë¦¬ê°€ ë˜ì–´ ìŠ¹ì¸ë˜ì§€ ì•Šì€ í‚¤ ì—ëŸ¬ê°€ ë‚˜ëŠ” ë¬¸ì œ</a></li>
          <li><a href="#request-deprecated--sob" id="markdown-toc-request-deprecated--sob">request deprecated â€¦ <img class="emoji" title=":sob:" alt=":sob:" raw="ğŸ˜­" src="https://github.githubassets.com/images/icons/emoji/unicode/1f62d.png" style="vertical-align: middle; display: inline; max-width: 1em; visibility: hidden;" onload="this.style.visibility='visible'" onerror="this.replaceWith(this.getAttribute('raw'))"></a></li>
          <li>
<a href="#config-js-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0" id="markdown-toc-config-js-ì‚¬ìš©í•˜ê¸°">config-js ì‚¬ìš©í•˜ê¸°</a>            <ul>
              <li>
<a href="#commonjs-%EB%B0%A9%EC%8B%9D%EA%B3%BC-es-modues-%EB%B0%A9%EC%8B%9D%EC%9D%98-%EC%A1%B0%ED%95%A9" id="markdown-toc-commonjs-ë°©ì‹ê³¼-es-modues-ë°©ì‹ì˜-ì¡°í•©">CommonJS ë°©ì‹ê³¼ ES Modues ë°©ì‹ì˜ ì¡°í•©</a>                <ul>
                  <li>
<a href="#mainjs-%EC%97%90%EC%84%9C-config-js-%EB%B6%88%EB%9F%AC%EC%98%A4%EA%B8%B0" id="markdown-toc-mainjs-ì—ì„œ-config-js-ë¶ˆëŸ¬ì˜¤ê¸°">main.js ì—ì„œ config-js ë¶ˆëŸ¬ì˜¤ê¸°</a>                    <ul>
                      <li><a href="#debugjs-%EC%9D%98-%EC%82%AC%EC%9A%A9" id="markdown-toc-debugjs-ì˜-ì‚¬ìš©">debug.js ì˜ ì‚¬ìš©</a></li>
                    </ul>
                  </li>
                  <li><a href="#%EC%84%A4%EC%A0%95%ED%8C%8C%EC%9D%BC%EC%9D%98-%ED%99%95%EC%9E%A5%EC%9E%90-%EB%AC%B8%EC%A0%9C" id="markdown-toc-ì„¤ì •íŒŒì¼ì˜-í™•ì¥ì-ë¬¸ì œ">ì„¤ì •íŒŒì¼ì˜ í™•ì¥ì ë¬¸ì œ</a></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h1 id="1-ë°œë‹¨">1. ë°œë‹¨</h1>

<ul>
  <li>ê°€ì¡±ê³¼ ê°™ì´ íŠ¹ì • ì˜í™”ë¥¼ ë³´ê³ ìí•  ë•Œ..
    <ul>
      <li>ì• ë“¤ê³¼ ê°™ì´ ë´ë„ ë ì§€ ë“±ê¸‰ì€ ì–´ë–»ê²Œ ë§¤ê²¨ì§„ê±´ì§€ ì•Œê³  ì‹¶ì„ë•Œê°€ ìˆë‹¤.</li>
    </ul>
  </li>
  <li>ìš°ë¦¬ë‚˜ë¼ ì˜í™” ë“±ê¸‰ì€ <a href="https://www.kmrb.or.kr/">ì˜ìƒë¬¼ë“±ê¸‰ìœ„ì›íšŒ</a>ì—ì„œ ì„¤ì •í•œë‹¤.
    <ul>
      <li>ì˜ë“±ìœ„ëŠ” <a href="https://www.data.go.kr/tcs/dss/selectApiDataDetailView.do?publicDataPk=3043382">open api</a> ë„ ì œê³µí•œë‹¤.</li>
    </ul>
  </li>
  <li>ì‚¬ìš©í•˜ëŠ” ì˜ˆì œë¥¼ ë§Œë“¤ì–´ë³´ì</li>
</ul>

<h1 id="2-ì „ê°œ">2. ì „ê°œ</h1>

<h2 id="ì´ìŠˆë“¤">ì´ìŠˆë“¤</h2>

<h3 id="api-keyê°€-url-encoding-ì²˜ë¦¬ê°€-ë˜ì–´-ìŠ¹ì¸ë˜ì§€-ì•Šì€-í‚¤-ì—ëŸ¬ê°€-ë‚˜ëŠ”-ë¬¸ì œ">API Keyê°€ URL encoding ì²˜ë¦¬ê°€ ë˜ì–´ ìŠ¹ì¸ë˜ì§€ ì•Šì€ í‚¤ ì—ëŸ¬ê°€ ë‚˜ëŠ” ë¬¸ì œ</h3>

<ul>
  <li>
<a href="https://www.w3schools.com/tags/ref_urlencode.ASP">ê¸°ë³¸ ë¶€ì¡± ë³´ì¶©</a>
    <ul>
      <li>URL - Uniform Resource Locator
        <ul>
          <li>ì›¹ ë¸Œë¼ìš°ì €ëŠ” ì›¹ì„œë²„ë¡œ ë¶€í„° í˜ì´ì§€ë¥¼ ìš”ì²­í•  ë•Œ URLì„ ì‚¬ìš©í•œë‹¤</li>
          <li>URLì€ ì›¹ í˜ì´ì§€ì˜ ì£¼ì†Œì´ë‹¤.</li>
        </ul>
      </li>
      <li>URL Encoding (<a href="https://en.wikipedia.org/wiki/Percent-encoding">Percent Encoding</a>)
        <ul>
          <li>URL encodingì€ URLì— ì‚¬ìš©ë˜ëŠ” ë¬¸ìë¥¼ ì¸í„°ë„·ì„ í†µí•´ ì „ë‹¬í•  ìˆ˜ ìˆëŠ” formatìœ¼ë¡œ ë³€í™˜í•œë‹¤</li>
          <li>URLì€ <a href="https://www.w3schools.com/charsets/ref_html_ascii.asp">ASCII ë¬¸ìì…‹</a> ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
          <li>URLì€ ì¢…ì¢… ASCII setì™¸ì˜ ë¬¸ìë¥¼ í¬í•¨í•˜ê¸° ë•Œë¬¸ì—, URLì€ ìœ íš¨í•œ ASCII formatìœ¼ë¡œ ë³€í™˜ë  í•„ìš”ê°€ ìˆë‹¤.</li>
          <li>URL encodingì€ unsafe ASCII ë¬¸ìë¥¼ â€œ%â€ì™€ 16ì§„ìˆ˜ ìˆ«ì ë‘ê°œë¡œ ë³€ê²½í•œë‹¤.</li>
          <li>URLì€ ê³µë°±ì„ í¬í•¨í•  ìˆ˜ ì—†ë‹¤. URL encodingì€  ë³´í†µ spaceë¥¼ plus(+) ë‚˜ %20 ìœ¼ë¡œ ë³€í™˜í•œë‹¤</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>request í˜¹ì€ axiosë¥¼ ì‚¬ìš©í•˜ì—¬ URLì„ êµ¬ì„±í•  ë•Œ ì„œë¹„ìŠ¤ í‚¤ê°€ ì—†ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•˜ê²Œ ëœë‹¤
    <div class="language-js highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td>
<td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">option</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">query</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">ë±€íŒŒì´ì–´</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">start</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">display</span> <span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="na">yearfrom</span> <span class="p">:</span> <span class="mi">2014</span><span class="p">,</span>
  <span class="na">yearto</span> <span class="p">:</span> <span class="mi">2014</span>
<span class="p">}</span>
<span class="nx">request</span><span class="p">.</span><span class="kd">get</span><span class="p">({</span>
  <span class="na">uri</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://api.koreafilm.or.kr/openapi-data2/wisenut/search_api/serach_json2.jsp</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">qs</span><span class="p">:</span> <span class="nx">option</span>
  <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">...</span>
  <span class="p">})</span>
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
    <ul>
      <li>ê·¸ëŸ°ë° ì„œë¹„ìŠ¤ í‚¤ê°€ ìˆë‹¤ë©´ ë‹¨ìˆœíˆ optionì— ServiceKeyë¥¼ ë„£ìœ¼ë©´ ë ê±°ë¼ê³  ìƒê°í•˜ê²Œ ëœë‹¤.
        <div class="language-js highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td>
<td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">option</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">ServiceKey</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">ë‚˜ëŠ”ì„œë¹„ìŠ¤í‚¤</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">query</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">ë±€íŒŒì´ì–´</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">...</span>
<span class="p">}</span>
</pre></td>
</tr></tbody></table></code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>ìŠ¹ì¸ë°›ì€ í‚¤ì— â€œ..%3D..â€ ë¬¸ìê°€ ì„ì—¬ ìˆëŠ”ë° â€œ..%253D..â€ë¡œ ë³€í™˜ë˜ì–´ ìŠ¹ì¸ë˜ì§€ ì•Šì€ í‚¤ë¼ëŠ” ì—ëŸ¬ê°€ ê³„ì† ë‚˜ì˜´
    <ul>
      <li>í•´ë‹¹ í‚¤ê°€ ì´ë¯¸ URLencodingëœ ìƒíƒœì´ì§€ë§Œ í•œ ë²ˆ ë” encodingë˜ë©´ì„œ ë‚˜ì˜¤ëŠ” ë¬¸ì œì„</li>
      <li>
<a href="https://owasp.org/www-community/Double_Encoding">double encoding</a>ì´ë¼ëŠ” ê³µê²©ê¸°ë²•ì—ë„ ì–¸ê¸‰ë˜ëŠ” ë‚´ìš©?
        <ul>
          <li>â€%â€ë¥¼ ì¸ì½”ë”©í•˜ë©´ â€œ%25â€ë¡œ ë³€í™˜ë¨</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="https://stackoverflow.com/a/39152383/9457247">í•´ê²°ì±…ì€ í•œë²ˆ ë” ì¸ì½”ë”©ë˜ì§€ ì•Šë„ë¡ URIì— ì§ì ‘ í¬í•¨ì‹œí‚´</a></li>
</ul>

<h3 id="request-deprecated--sob">request deprecated â€¦ <img class="emoji" title=":sob:" alt=":sob:" raw="ğŸ˜­" src="https://github.githubassets.com/images/icons/emoji/unicode/1f62d.png" style="vertical-align: middle; display: inline; max-width: 1em; visibility: hidden;" onload="this.style.visibility='visible'" onerror="this.replaceWith(this.getAttribute('raw'))">
</h3>

<ul>
  <li>node.js ìƒíƒœê³„ì—ì„œ ì˜¤ë˜ëœ packageì¸ <a href="https://github.com/request/request/issues/3142">requestê°€ deprecate ë˜ì—ˆë‹¤, request github</a>.
    <ul>
      <li>ì˜ˆì œë¡œ ë§ì´ ë³´ì˜€ëŠ”ë°â€¦</li>
      <li>
<a href="https://github.com/request/request/issues/3143">Alternative libraries to request, request github</a>
        <ul>
          <li>ëŒ€ì²´ì¬ë¡œ axiosê°€ ìˆë‹¤.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="config-js-ì‚¬ìš©í•˜ê¸°">config-js ì‚¬ìš©í•˜ê¸°</h3>

<ul>
  <li>open apië¥¼ ì‚¬ìš©í•˜ë‹¤ë³´ë©´ í•„ì—°ì ìœ¼ë¡œ credentialsë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.</li>
  <li>ì´ëŸ° ì •ë³´ë“¤ì€ ë‚¨ì—ê²Œ ê³µê°œë˜ë©´ ì•ˆë˜ëŠ” ì •ë³´ë“¤ì´ë¯€ë¡œ githubì— ì˜¬ë¦´ë•Œ ì œì™¸í•´ì•¼ í•œë‹¤.</li>
  <li>ì œì™¸í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ê¸€ : <a href="https://www.ibm.com/cloud/blog/keeping-secrets-cloud-application-access-credentials-private-data?mhsrc=ibmsearch_a&mhq=keeping%20secrets">Keeping secrets</a>
    <ul>
      <li>ìœ— ê¸€ì„ ë°œì·Œë²ˆì—­í•œ êµ­ë‚´ ê¸€ : <a href="https://poiemaweb.com/nodejs-keeping-secrets">9.5 Node.jsì—ì„œ ë¹„ë°€ ì„¤ì • ì •ë³´ ê´€ë¦¬</a>
</li>
    </ul>
  </li>
  <li>ë‚˜ëŠ” ì„¤ì •íŒŒì¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•˜ê¸°ë¡œ í•˜ê³  <a href="https://www.npmjs.com/package/config-js"><code class="language-html highlighter-rouge">config-js</code></a>ë¥¼ ì°¾ì•„ë‚´ì—ˆë‹¤.</li>
</ul>

<h4 id="commonjs-ë°©ì‹ê³¼-es-modues-ë°©ì‹ì˜-ì¡°í•©">CommonJS ë°©ì‹ê³¼ ES Modues ë°©ì‹ì˜ ì¡°í•©</h4>

<ul>
  <li>ë‚˜ëŠ” OpenApiTest í”„ë¡œì íŠ¸ì—ì„œ module ë°©ì‹ì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤.
    <ul>
      <li><a href="https://nodejs.org/api/esm.html#esm_enabling">Node.js ëŠ” ë””í´íŠ¸ë¡œ CommonJsë¥¼ ì§€ì›í•˜ë©° package.json ì„¤ì •ìœ¼ë¡œ ES Moduleì„ Enable í•œë‹¤.</a></li>
    </ul>
  </li>
  <li>config-jsëŠ” CommonJS ë°©ì‹ìœ¼ë¡œì˜ ì‚¬ìš©ë²•ë§Œ ê¸°ìˆ í•˜ê³  ìˆê¸°ì— í˜„ì¬ ë‚´í™˜ê²½ì—ì„œ ì‚¬ìš©í•˜ë ¤ë©´ ëª‡ê°€ì§€ ìˆ˜ì •ì´ í•„ìš”í•˜ë‹¤.</li>
</ul>

<h5 id="mainjs-ì—ì„œ-config-js-ë¶ˆëŸ¬ì˜¤ê¸°">main.js ì—ì„œ config-js ë¶ˆëŸ¬ì˜¤ê¸°</h5>

<ul>
  <li>CommonJS ë°©ì‹
    <div class="language-js highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td>
<td class="rouge-code"><pre><span class="kd">var</span> <span class="nx">Config</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">config-js</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Config</span><span class="p">(</span><span class="dl">'</span><span class="s1">...</span><span class="dl">'</span><span class="p">);</span>
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>ES module ë°©ì‹
    <div class="language-js highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td>
<td class="rouge-code"><pre><span class="k">import</span> <span class="nx">Config</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">config-js</span><span class="dl">'</span>
<span class="kd">let</span> <span class="nx">config</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Config</span><span class="p">(</span><span class="dl">'</span><span class="s1">...</span><span class="dl">'</span><span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>ì´ ë¶€ë¶„ì˜ ì‹¤íŒ¨
    <ul>
      <li>ì²˜ìŒì—ëŠ” <code class="language-html highlighter-rouge">new</code> ì—†ì´ <code class="language-html highlighter-rouge">let config = Config('...')</code> ìœ¼ë¡œë§Œ í˜¸ì¶œí•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ê°€ ê³„ì† ë‚¬ë‹¤.
        <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="rouge-code"><pre>~/node_module/config-js/index.js:56
this.pathToDefaults <span class="o">=</span> path.join<span class="o">(</span>path.dirname<span class="o">(</span>pathToConfig.FileIn<span class="o">)</span>
                    ^
TypeError: Cannot <span class="nb">set </span>property <span class="s1">'pathToDefaults'</span> of undefined
</pre></td>
</tr></tbody></table></code></pre></div>        </div>
      </li>
      <li>ì¦‰, <code class="language-html highlighter-rouge">this</code>ê°€ <code class="language-html highlighter-rouge">undefined</code>ì¸ ìƒíƒœì—ì„œ <code class="language-html highlighter-rouge">this</code>ì˜ propetyì¸ <code class="language-html highlighter-rouge">pathToDefaults</code>ì— ì ‘ê·¼í•˜ë ¤ê³  í–ˆë‹¤.</li>
      <li>
<code class="language-html highlighter-rouge">this</code>ê°€ <code class="language-html highlighter-rouge">undefined</code>ì¸ ì´ìœ ëŠ” <code class="language-html highlighter-rouge">Config</code>ì„ <code class="language-html highlighter-rouge">new</code>ë¡œ ìƒì„±í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸</li>
    </ul>
  </li>
</ul>

<h6 id="debugjs-ì˜-ì‚¬ìš©">debug.js ì˜ ì‚¬ìš©</h6>

<ul>
  <li>ìœ„ ì„¹ì…˜ì˜ ì‹¤íŒ¨ë¥¼ ê²½í—˜í•˜ë©´ì„œ <code class="language-html highlighter-rouge">config-js</code> íŒ¨í‚¤ì§€ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•œ <code class="language-html highlighter-rouge">debug.js</code> ëª¨ë“ˆì˜ ì¶œë ¥ì„ ë³´ê³  ì‹¶ì—ˆë‹¤.
    <ul>
      <li><a href="https://www.npmjs.com/package/debug">npm debug</a></li>
      <li><a href="https://github.com/visionmedia/debug">github debug.js</a></li>
    </ul>
  </li>
  <li>
<code class="language-html highlighter-rouge">debug.js</code>ì˜ githubì— ì„¤ëª…ì´ ì˜ë˜ì–´ ìˆëŠ”ë° ..
    <ul>
      <li>ë‚´ê°€ ì‚¬ìš©ì¤‘ì¸ <code class="language-html highlighter-rouge">node.js</code> + <code class="language-html highlighter-rouge">windows powershell</code> í™˜ê²½ì— ê´€í•œ ì„¤ì •ë„ ë‚˜ì™€ìˆë‹¤.</li>
      <li>
<code class="language-html highlighter-rouge">package.json</code>ì˜ <code class="language-html highlighter-rouge">scripts</code> ì˜µì…˜ì— ë‹¤ìŒê³¼ ê°™ì´ ì¶”ê°€í•œë‹¤
        <div class="language-json highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="rouge-code"><pre><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"main"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@powershell -Command $env:DEBUG='';node ./src/main.js"</span><span class="w">
  </span><span class="nl">"debug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@powershell -Command $env:DEBUG='*';node ./src/main.js"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div>        </div>
        <ul>
          <li>ìœ„ì™€ ê°™ì´ ì„¤ì •í•˜ê³  ì‰˜ì—ì„œ <code class="language-html highlighter-rouge">npm run debug</code>í•˜ë©´ ì‰˜ì— ë””ë²„ê·¸ë¡œê·¸ê°€ ì¶œë ¥ëœë‹¤.
            <ul>
              <li>ì›¹ì—ì„œ ì‚¬ìš©í•˜ë©´ ë¸Œë¼ìš°ì € ë””ë²„ê·¸ ëª¨ë“œì—ì„œ ì»¬ëŸ¬ë§ëœ ì¶œë ¥ì„ ì§€ì›í•œë‹¤ê³  í•œë‹¤</li>
            </ul>
          </li>
          <li>ìœ„ì—ì„œ <code class="language-html highlighter-rouge">DEBUG='*'</code> ë¶€ë¶„ì— <code class="language-html highlighter-rouge">*</code> ëŒ€ì‹  ì›í•˜ëŠ” ë¡œê·¸ë¥¼ ì§€ì •í•  ìˆ˜ ìˆëŠ”ë“¯ í•˜ë‹¤.</li>
          <li>colorë¥¼ ì§€ì›í•˜ëŠ” ì‰˜ì—ì„œ ë³´ë©´ debugë¡œê·¸ê°€ ì´ì˜ê²Œ ë‚˜ì˜¨ë‹¤.</li>
          <li>í•´ë‹¹ì„¸ì…˜ì—ì„œ ì„ì‹œë¡œ <code class="language-html highlighter-rouge">DEBUG</code> ë³€ìˆ˜ë¥¼ ì„ ì–¸í–ˆê¸°ì— í•´ë‹¹ ì„¸ì…˜ì´ ì£½ê¸°ì „ê¹Œì§€ ê³„ì† DEBUG í™œì„±í™”ìƒíƒœì´ë‹¤.
            <ul>
              <li>
<code class="language-html highlighter-rouge">npm run main</code>ì‹œì— ë””ë²„ê·¸ë¡œê·¸ë¥¼ ì£½ì´ê³  ì‹¶ë‹¤ë©´ <code class="language-html highlighter-rouge">main</code>ì„ ìœ„ì™€ ê°™ì´ ë°”ê¾¼ë‹¤.</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h5 id="ì„¤ì •íŒŒì¼ì˜-í™•ì¥ì-ë¬¸ì œ">ì„¤ì •íŒŒì¼ì˜ í™•ì¥ì ë¬¸ì œ</h5>

<ul>
  <li>ì´ ë¶€ë¶„ì—ì„œ ë§ì´ í—¤ë§¸ëŠ”ë° ì•„ë˜ ë§í¬ë¥¼ ì˜ ì°¸ì¡°í•´ë³´ì
    <ul>
      <li><a href="https://nodejs.org/api/esm.html#esm_interoperability_with_commonjs">Interoperability with CommonJS</a></li>
    </ul>
  </li>
  <li>ì´ ë¶€ë¶„ì˜ ì‹¤íŒ¨
    <ul>
      <li>
<code class="language-html highlighter-rouge">cfg_secret.js</code>ë¡œ <code class="language-html highlighter-rouge">config file</code>ì„ ë§Œë“¤ì—ˆëŠ”ë°â€¦
        <ul>
          <li>íŒŒì¼ ê²½ë¡œì—ëŠ” ë¬¸ì œê°€ ì—†ì§€ë§Œ <code class="language-html highlighter-rouge">require</code>ë¡œ config fileì„ ë¶ˆëŸ¬ì˜¬ ë•Œ ê³„ì† ë‹¤ìŒ ì—ëŸ¬ê°€ ë‚œë‹¤
            <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td>
<td class="rouge-code"><pre><span class="o">&gt;</span> npm run debug
      
...<span class="o">(</span>debug.js ì¶œë ¥<span class="o">)</span>
config-js Could not load target config: <span class="s2">"~/OpenApiTest/src/cfg_secret.js"</span> +1ms
...
</pre></td>
</tr></tbody></table></code></pre></div>            </div>
          </li>
        </ul>
      </li>
      <li>ë¬¸ì œê°€ ë˜ëŠ” <code class="language-html highlighter-rouge">config-js</code>ì˜ ì½”ë“œ ë¶€ë¶„ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
        <div class="language-js highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td>
<td class="rouge-code"><pre><span class="k">try</span><span class="p">{</span>
  <span class="nx">targetConfig</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="nx">pathToConfigFile</span><span class="p">);</span>
  <span class="nx">debug</span><span class="p">(</span><span class="dl">'</span><span class="s1">Required config: </span><span class="dl">'</span><span class="o">+</span><span class="nx">pathToConfigFile</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">debug</span><span class="p">(</span><span class="dl">'</span><span class="s1">Could not load target config: "</span><span class="dl">'</span><span class="o">+</span><span class="nx">pathToConfigFile</span><span class="o">+</span><span class="dl">'</span><span class="s1">"</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span>
</pre></td>
</tr></tbody></table></code></pre></div>        </div>
      </li>
      <li>ìœ„ catch ë¸”ëŸ­ì— err ì°ëŠ” ë‚´ìš©ì´ ì—†ì–´ ì¶”ê°€í•´ì„œ ì°ì–´ë³´ë‹ˆ ë‹¤ìŒê³¼ ê°™ì•˜ë‹¤.
        <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td>
<td class="rouge-code"><pre>...<span class="o">(</span>debug.js ì¶œë ¥<span class="o">)</span>
config-js err: Error <span class="o">[</span>ERR_REQUIRE_ESM]: Must use import to load ES Module: ~/OpenApiTest/src/cfg_secret.js
config-js require<span class="o">()</span> of /OpenApiTest/src/cfg_secret.js from ~/OpenApiTest/node_modules/config-js/index.js is an ES module file as it is a .js file whose nearest parent package.json contains <span class="s2">"type"</span>: <span class="s2">"module"</span> which defines 
config-js Instead rename cfg_secret.js to end <span class="k">in</span> .cjs, change the requiring code to use import<span class="o">()</span>, or remove <span class="s2">"type"</span>: <span class="s2">"module"</span> from ~/OpenApiTest/package.json.
config-js  +1ms
</pre></td>
</tr></tbody></table></code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>í•´ê²°
    <ul>
      <li>ìœ„ ì§€ì‹œì‚¬í•­ëŒ€ë¡œ <code class="language-html highlighter-rouge">cfg_secret.js</code>ë¥¼ <code class="language-html highlighter-rouge">cfg_secret.cjs</code>ë¡œ ìˆ˜ì •í•˜ê³ , ê´€ë ¨ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê³  ì‹¤í–‰í•´ë³´ë‹ˆ ì˜ ë˜ì—ˆë‹¤.</li>
    </ul>
  </li>
  <li>ì†Œê°
    <ul>
      <li>ê²°ê³¼ì ìœ¼ë¡œ CommonJSì™€ ES Moduleì€ í˜¸í™˜ì€ ê°€ëŠ¥í•˜ì§€ë§Œ ì‹ ê²½ì„ ì¨ì¤˜ì•¼í•œë‹¤.</li>
    </ul>
  </li>
</ul>

    </article>


    
    <div class="post-comments">
    
    
        <script src="https://utteranc.es/client.js" repo="honggaruy/honggaruy.github.io" issue-term="pathname" label="Comment" theme="github-light" crossorigin="anonymous" async>
        </script>
    
    </div>




</div>
<script>
    ;(function() {
        var tags = document.querySelectorAll('.post-tag');
        if(tags == null || tags.length < 1) {
            return;
        }

        for (var i = 0; i < tags.length; i++) {
            var item = tags[i];
            var tagList = item.innerHTML.trim();

            if(/^\s*$/.test(tagList)) {
                continue;
            }
            tagList = tagList.split(/\s+/)
                .map(function(tag) {
                    return `<a href="/tag/#${tag}">#${tag}</a>`;
                })
                .join(' ');
            tags[i].innerHTML = tagList;
        }
        return;
    })();
    ;(function() {
        var post = document.querySelector('article.post-content');

        if(post == null) {
            return;
        }

        (function iterate_node(node) {

            if (/^(?:p|ul|h\d|table)$/i.test(node.tagName)) {

                node.innerHTML = link(node.innerHTML);

            } else { // Node.ELEMENT_NODE
                for (var i = 0; i < node.childNodes.length; i++) {
                    iterate_node(node.childNodes[i]);
                }
            }
        })(post);

        function link(content) {
            content = content.replace(/\\\[\[(.+?)\]\]/g, '\\[\\[$1\\]\\]');
            content = content.replace(/\[\[(.+?)\]\]\{(.+?)\}/g, '<a href="../$1">$2</a>');
            content = content.replace(/\[\[(.+?)\]\]/g, '<a href="../$1">$1</a>');
            content = content.replace(/\\\[\\\[(.+?)\\\]\\\]/g, '[[$1]]');
            return content;
        }

    })();
</script>


<script src="/js/axios.min.js"></script>
<script async src="/js/parent.js"></script>

            </div>
        </div>
        <footer class="footer">
    <div>

    </div>
</footer>
    
</body>
</html>
